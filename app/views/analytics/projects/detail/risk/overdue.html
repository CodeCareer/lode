<div kt-animate-panel child="hpanel">
    <div class="content-header clfix">
        <div class="btn-group btn-group-sm fr">
            <label class="btn btn-default" ng-model="radioPeriod" uib-btn-radio="radioPeriodLastMonth">上月</label>
            <label class="btn btn-default" ng-model="radioPeriod" uib-btn-radio="radioPeriodLast3Month">过去三月</label>
            <label class="btn btn-default" ng-model="radioPeriod" uib-btn-radio="radioPeriodLast6Month">过去六月</label>
            <label class="btn btn-default" ng-model="radioPeriod" uib-btn-radio="radioPeriodCustom" kt-date-picker batch-mode="month-range" single-month="false" extra-class="date-picker-analytics-top" show-week-numbers="true" auto-close="false" show-shortcuts="false">任意</label>
        </div>
    </div>
    <div class="hpanel">
        <div class="panel-heading clfix">
            <h5>逾期率趋势</h5>
            <div class="actions fr">
                <div class="btn-group btn-group-sm">
                    <label class="btn btn-dark" ng-model="overdueRateChart.radioDataShowType" uib-btn-radio="'table'">
                        <i class="icon-lode">&#xe808;</i>
                    </label>
                    <label class="btn btn-dark" ng-model="overdueRateChart.radioDataShowType" uib-btn-radio="'chart'">
                        <i class="icon-lode">&#xe806;</i>
                    </label>
                </div>
                <!-- <a class="download-data f18 ml5 pr10 pl10 va-2">
                    <i class="glyphicon glyphicon-download-alt"></i>
                </a> -->
            </div>
        </div>
        <div class="panel-body clfix pr ov-h">
            <div class="chart-table" ng-show="overdueRateChart.radioDataShowType == 'chart'">
                <div class="chart-table-heading clfix">
                    <div class="checkbox-group clfix">
                        <div class="checkbox">
                            <input id="overdueRate" kt-echart-legend chart-id="overdueRateChart" name="逾期率" type="checkbox" ng-model="overdueRateChart.overdueTab">
                            <label for="overdueRate">
                                逾期率
                            </label>
                            <div class="color-icon" style="background-color:{{chartColors[0]}};"></div>
                        </div>
                        <div class="checkbox">
                            <input id="badRate" kt-echart-legend chart-id="overdueRateChart" name="不良率" type="checkbox" ng-model="overdueRateChart.badTab">
                            <label for="badRate">
                                不良率
                            </label>
                            <div class="color-icon" style="background-color:{{chartColors[1]}};"></div>
                        </div>
                    </div>
                </div>
                <div class="chart-table-body">
                    <div id="overdueRateChart" kt-echart chart-options="overdueRateChart.chartOptions" resize-by="overdueRateChart.radioDataShowType" style="height:400px;">
                    </div>
                </div>
            </div>
            <div class="chart-table" ng-show="overdueRateChart.radioDataShowType == 'table'">
                <div class="table-responsive table-body">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr class="text-left">
                                <th>指标</th>
                                <th ng-repeat="date in data.dates" ng-bind="date"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="text-right" ng-repeat="trend in data.overdue_trends">
                                <th class="text-left" ng-bind="::trend.name"></th>
                                <td ng-repeat="value in trend.data track by $index" ng-bind="::value | ktNumber:2:'percent'"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="hpanel">
        <div class="panel-heading clfix">
            <h5>迁徙率趋势</h5>
            <div class="actions fr">
                <div class="btn-group btn-group-sm">
                    <label class="btn btn-dark" ng-model="migrateRateChart.radioDataShowType" uib-btn-radio="'table'">
                        <i class="icon-lode">&#xe808;</i>
                    </label>
                    <label class="btn btn-dark" ng-model="migrateRateChart.radioDataShowType" uib-btn-radio="'chart'">
                        <i class="icon-lode">&#xe806;</i>
                    </label>
                </div>
                <!-- <a class="download-data f18 ml5 pr10 pl10 va-2">
                    <i class="glyphicon glyphicon-download-alt"></i>
                </a> -->
            </div>
        </div>
        <div class="panel-body clfix pr ov-h">
            <div class="chart-table" ng-show="migrateRateChart.radioDataShowType == 'chart'">
                <div class="chart-table-heading clfix">
                    <div class="checkbox-group clfix">
                        <!-- 逾期率图例控制组 -->
                        <div class="checkbox" ng-repeat="l in migrateRateChart.legend">
                            <input id="{{l.name}}" kt-echart-legend chart-id="migrateRateChart" name="{{l.name}}" type="checkbox" ng-model="l.value">
                            <label for="{{l.name}}" ng-bind="l.name">
                            </label>
                            <div class="color-icon" style="background-color:{{chartColors[$index]}};"></div>
                        </div>
                    </div>
                </div>
                <div class="chart-table-body">
                    <div kt-echart id="migrateRateChart" chart-options="migrateRateChart.chartOptions" resize-by="migrateRateChart.radioDataShowType" style="height:400px;">
                    </div>
                </div>
            </div>
            <div class="chart-table" ng-show="migrateRateChart.radioDataShowType == 'table'">
                <div class="table-responsive table-body">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr class="text-left">
                                <th>指标</th>
                                <th ng-repeat="date in data.dates" ng-bind="date"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="text-right" ng-repeat="item in data.migration_trends">
                                <th class="text-left" ng-bind="::item.name"></th>
                                <td ng-repeat="value in item.data track by $index" ng-bind="::value | ktNumber:2:'percent'"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
