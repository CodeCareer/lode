<div class="row" kt-animate-panel child="animate">
    <div class="col-lg-12">
        <div class="hpanel hpanel-card animate">
            <div class="panel-heading clfix">
                <h5>规则设置</h5>
            </div>
            <div class="panel-body clfix pr ov-h mt10">
                <div class="card-list">
                    <div class="card" ng-repeat="rule in rules">
                        <form name="form_{{$index}}" class="form-horizontal" method="post" id="form_{{$index}}">
                            <div class="card-heading">
                                <label>规则名称</label>
                                <input class="input ml10" autofocus required="required" ng-model="rule.name">
                            </div>
                            <div class="card-body">
                                <h5>条件</h5>
                                <div class="line clfix">
                                    <div class="item left">
                                        <label>字段</label>
                                        <!-- {value} as {text} for {item} in {list} 实现select 内容与值分离，注意不要使用track by -->
                                        <select  ng-options="field.value as field.name for field in fields" ng-model="rule.field"  class="mr5 ml5 form-control"></select>
                                    </div>
                                    <div class="item right">
                                        <label>值</label>
                                        <select ng-options="condition.value as condition.name for condition in conditions" ng-model="rule.condition" class="mr5 ml5 form-control"></select>
                                        <input ng-model="rule.value" class="input mr5 ml5" type="text">
                                    </div>
                                </div>
                                <h5 class="mt10">结果</h5>
                                <div class="line clfix">
                                    <div class="item left">
                                        <select class="form-control" name="fields" ng-options="result.value as result.name for result in results" ng-model="rule.result">
                                        </select>
                                    </div>
                                    <div class="item right text-right">
                                        <a class="btn btn-sm btn-dark" ng-click="save($event, $index, rule.id)">保存</a>
                                        <a class="btn btn-sm btn-gray" ng-click="remove($index, rule.id)">删除</a>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="buttons col-md-12 animate" effect="fadeIn">
            <button class="btn btn-default btn-sm" ng-click="addRule()">+ 添加</button>
        </div>
    </div>
</div>
