!function(){"use strict";angular.module("kt.lode").filter("filterByFormat",["$filter",function(a){return function(b,c){var d=b;switch(c){case"date":d=a("date")(b,"yyyy-MM-dd");break;case"percent":d=a("ktNumber")(b,2,"percent");break;case"currency":d=a("ktNumberLocate")(b);break;default:d=b||"-"}return d}}]).controller("ktDebtorCtrl",["$scope","$location","$state","$stateParams","ktProjectsService",function(a,b,c,d,e){a.shared={},a.shared.filters=[],a.shared.filterFParams=[];var f=a.shared.params={page:1,per_page:10},g=a.shared._params={maxSize:10,totalItems:10};e.get($.extend({},g,f,{subContent:"filters",projectID:d.projectID}),function(b){a.shared.filters=b.filters,a.$broadcast("filtersReady")})}]).controller("ktDebtorTableCtrl",["$scope","$location","$stateParams","ktProjectsService","ktDataHelper",function(a,b,c,d,e){var f=b.search(),g=a.shared.params,h=a.shared._params,i=a.shared.filters;$.extend(g,f),e.pruneDirtyParams(g,f,["filter"]);var j=a.shared.fParams=e.cutDirtyParams(e.decodeParams(g,["filter"]));i.length?(e.filterInit(i)(j),a.shared.updateFilterFParams()):a.$on("filtersReady",function(){e.filterInit(a.shared.filters)(j),a.shared.updateFilterFParams()}),a.getFormat=function(b){return a.fields[b].format},d.get($.extend({subContent:"borrowers",projectID:c.projectID},g,j),function(c){a.borrowers=c.borrowers,a.fields=c.fields,h.totalItems=c.total_items,a.shared.pageChanged=function(){b.search("page",g.page)}})}])}();