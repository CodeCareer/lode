!function(){"use strict";angular.module("kt.lode").directive("ktLogout",["$window","$rootScope","$state","ipCookie","CacheFactory",function(a,b,c,d,e){return{restrict:"A",link:function(f,g){g.on("click",function(f){f.stopPropagation(),f.preventDefault(),delete a.localStorage.user,delete a.localStorage.token,b.user=null,b.currentUrl="",b.wantJumpUrl="",d.remove("token"),e.clearAll(),c.go("account.login",{},{reload:!0})})}}}]).directive("ktFixed",function(){return{restrict:"A",link:function(a,b){var c,d=56;$(window).on("scroll",function(){var a=$(window).scrollTop(),e=b.offset().top,f=e+b.height(),g=parseInt(b.css("margin-top"),10);if(!b.hasClass("fixed-el")&&f<=a){var h=b[0].getBoundingClientRect();c=$("<div/>").css({height:h.height,width:h.width}).insertBefore(b.next()),b.addClass("fixed-el").css("top",d-g).data("elemBottom",f)}else b.hasClass("fixed-el")&&b.data("elemBottom")>=a&&(c.remove(),b.removeClass("fixed-el"))})}}}).directive("ktExportTable",function(){return{restrict:"AE",scope:{table:"@",download:"@"},link:function(a,b){b.on("click",function(){var c=b.attr("download"),d=c.replace("@time@",moment().format("YYYY年MM月DD日HH时mm分ss秒"));return b.attr("download",d),ExcellentExport.excel(b[0],a.table,d.replace(".xls",""))})}}})}();