<div class="filter-box {{specialClass}}"> <div class="filters-list"> <div class="filter-line clfix" ng-repeat="filter in shared.filters" ng-show="shared.filters.length"> <div class="name" ng-bind="::(filter.name + '：')"></div> <div class="options" ng-if="filter.perform_type === 'options'"> <ul class="options-list"> <li ng-class="{active: o.active}" ng-repeat="o in filter.options"> <a ng-if="o.type !== 'datepicker'" ng-click="goTo(filter.field, o.value)"> <span ng-bind="::o.name"></span> <i ng-if="o.tip" tooltip-append-to-body="true" tooltip-placement="top" uib-tooltip="{{o.tip}}" class="icon-lode icon-info f12 opacity-0_5"></i> </a> <span ng-if="o.type === 'datepicker'" placeholder="自定义" class="text-center m-t-n-sm option-datepicker" readonly type="text" id="datepicker_{{filter.field}}_{{$index}}" pattern="{{filter.pattern}}" type="text" kt-date-picker datepicker-settings="o.datepickerSettings" single-date="false" batch-mode="month-range" single-month="false" extra-class="date-picker-analytics-top" show-week-numbers="true" auto-close="false" show-shortcuts="false" on-update="o.onUpdate(value)" ng-bind="o.value || '自定义'" open-type="span"></span> </li> <li class="custom-option" ng-show="filter.customOptionVisible"> <input type="text" id="custom_start_{{filter.field}}" pattern="{{filter.pattern}}" type="text" tooltip-append-to-body="true" tooltip-trigger="none" tooltip-placement="top" uib-tooltip="{{filter.errors.start}}" tooltip-class="error" tooltip-is-open="filter.errors.start_open" ng-model="filter.customOptionStart"> <span>-</span> <input type="text" id="custom_end_{{filter.field}}" pattern="{{filter.pattern}}" type="text" tooltip-append-to-body="true" tooltip-trigger="none" tooltip-placement="top" uib-tooltip="{{filter.errors.end}}" tooltip-class="error" tooltip-is-open="filter.errors.end_open" ng-model="filter.customOptionEnd"> <span class="unit" ng-bind="::filter.unit"></span> <button class="btn btn-primary btn-xs" ng-click="goTo(filter.field, filter.customOptionStart + '-' + filter.customOptionEnd, 'custom')">筛选</button> </li> </ul> </div> <div class="search-options" ng-if="filter.perform_type === 'search'"> <input ng-if="filter.field_type !== 'date'" type="text" id="search_{{filter.field}}" pattern="{{filter.pattern}}" type="text" tooltip-append-to-body="true" tooltip-trigger="none" tooltip-placement="top" uib-tooltip="{{filter.errors.search}}" tooltip-class="error" tooltip-is-open="filter.errors.search_open" ng-model="filter.searchValue" kt-enter="beginSearch(filter.field, filter.searchValue)"> <input ng-if="filter.field_type === 'date'" readonly type="text" id="search_{{filter.field}}" pattern="{{filter.pattern}}" type="text" tooltip-append-to-body="true" tooltip-trigger="none" tooltip-placement="top" uib-tooltip="{{filter.errors.search}}" tooltip-class="error" tooltip-is-open="filter.errors.search_open" ng-model="filter.searchValue" kt-enter="beginSearch(filter.field, filter.searchValue)" kt-date-picker datepicker-settings="field.datepickerSettings" single-date="true" single-month="true" extra-class="date-picker-analytics-top" show-week-numbers="false" auto-close="true" show-shortcuts="false"> <button class="btn btn-primary btn-xs ml5" ng-click="goTo(filter.field, filter.searchValue, 'search')">筛选</button> </div> </div> <div class="filter-line" ng-if="!shared.filters.hideFParams && getFParamsLength()"> <div class="name">已选条件：</div> <div class="checkboxes clfix"> <div class="checked-item" ng-repeat="f in shared.filterFParams track by $index"> <span ng-bind="f.name"></span> <i ng-if="!shared.filters.cannotDelete" class="pe-7s-close delete-item" ng-click="delFParams(f.value)"></i> </div> <div class="buttons"> <button ng-if="!shared.filters.cannotDelete" class="btn btn-xs btn-primary" ng-click="resetFParams()">全部清除</button> </div> </div> </div> </div> </div> 