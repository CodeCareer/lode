!function(a){"function"==typeof define&&define.amd?define(["jquery","moment"],a):"object"==typeof exports&&"undefined"!=typeof module?module.exports=a(require("jquery"),require("moment")):a(jQuery,moment)}(function(a,b){a.dateRangePickerLanguages={default:{selected:"已选择:",day:"天",days:"天",apply:"确定","week-1":"一","week-2":"二","week-3":"三","week-4":"四","week-5":"五","week-6":"六","week-7":"日","week-number":"周","month-name":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortcuts:"快捷选择",past:"过去",following:"将来",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"上周","prev-month":"上个月","prev-year":"去年",next:"&nbsp;&nbsp;&nbsp;","next-week":"下周","next-month":"下个月","next-year":"明年","less-than":"所选日期范围不能大于%d天","more-than":"所选日期范围不能小于%d天","default-more":"请选择大于%d天的日期范围","default-less":"请选择小于%d天的日期范围","default-range":"请选择%d天到%d天的日期范围","default-single":"请选择一个日期","default-default":"请选择一个日期范围",time:"时间",hour:"小时",minute:"分钟"}},a.fn.dateRangePicker=function(c){function d(b,c){return b.target==c||void 0!=c.childNodes&&a.inArray(b.target,c.childNodes)>=0}function e(){function e(b){var d=a(b).parents("table").hasClass("month2"),e=d?c.month2:c.month1;e=M(e),!c.singleMonth&&!c.singleDate&&!d&&K(e,c.month2)>=0||S(e)||(E(e,d?"month2":"month1"),I())}function g(a){var b=M(c.month1),d=M(c.month2);S(d)||!c.singleDate&&K(b,d)>=0||(E(b,"month1"),E(d,"month2"),D())}function h(b){var d=a(b).parents("table").hasClass("month2"),e=d?c.month2:c.month1;e=N(e),d&&K(e,c.month1)<=0||S(e)||(E(e,d?"month2":"month1"),I())}function i(a){var b=N(c.month1),d=N(c.month2);S(b)||!c.singleDate&&K(d,b)<=0||(E(d,"month2"),E(b,"month1"),D())}var k=this;if(a(this).data("date-picker-opened"))return void J();a(this).data("date-picker-opened",!0),aa=P().hide(),aa.append('<div class="date-range-length-tip"></div>'),aa.delegate(".day","mouseleave",function(){aa.find(".date-range-length-tip").hide()}),a(c.container).append(aa),c.inline?aa.addClass("inline-wrapper"):f(),c.alwaysOpen&&aa.find(".apply-btn").hide();var l=c.defaultTime?c.defaultTime:new Date;c.lookBehind?(c.startDate&&K(l,c.startDate)<0&&(l=M(b(c.startDate).toDate())),c.endDate&&K(l,c.endDate)>0&&(l=b(c.endDate).toDate()),E(N(l),"month1"),E(l,"month2")):(c.startDate&&K(l,c.startDate)<0&&(l=b(c.startDate).toDate()),c.endDate&&K(M(l),c.endDate)>0&&(l=N(b(c.endDate).toDate())),E(l,"month1"),E(M(l),"month2")),c.singleDate&&(c.startDate&&K(l,c.startDate)<0&&(l=b(c.startDate).toDate()),c.endDate&&K(l,c.endDate)>0&&(l=b(c.endDate).toDate()),E(l,"month1")),c.time.enabled&&(c.startDate&&c.endDate||c.start&&c.end?(F(b(c.start||c.startDate).toDate(),"time1"),F(b(c.end||c.endDate).toDate(),"time2")):(F(l,"time1"),F(l,"time2")));var m="";m=_(c.singleDate?"default-single":c.minDays&&c.maxDays?"default-range":c.minDays?"default-more":c.maxDays?"default-less":"default-default"),aa.find(".default-top").html(m.replace(/\%d/,c.minDays).replace(/\%d/,c.maxDays)),c.singleMonth?aa.addClass("single-month"):aa.addClass("two-months"),setTimeout(function(){j(),da=!0},0),aa.click(function(a){a.stopPropagation()}),a(document).bind("click.datepicker",function(a){d(a,k[0])||aa.is(":visible")&&J()}),aa.find(".next").click(function(){c.stickyMonths?g(this):e(this)}),aa.find(".prev").click(function(){c.stickyMonths?i(this):h(this)}),aa.delegate(".day","click",function(b){r(a(this))}),aa.delegate(".day","mouseenter",function(b){v(a(this))}),aa.delegate(".week-number","click",function(b){s(a(this))}),aa.attr("unselectable","on").css("user-select","none").bind("selectstart",function(a){return a.preventDefault(),!1}),aa.find(".apply-btn").click(function(){J();var b=H(new Date(c.start))+c.separator+H(new Date(c.end));a(k).trigger("datepicker-apply",{value:b,date1:new Date(c.start),date2:new Date(c.end)})}),aa.find("[custom]").click(function(){var b=a(this).attr("custom");c.start=!1,c.end=!1,aa.find(".day.checked").removeClass("checked"),c.setValue.call(fa,b),y(),z(!0),D(),c.autoClose&&J()}),aa.find("[shortcut]").click(function(){var b=a(this).attr("shortcut"),d=new Date,e=!1;if(b.indexOf("day")!=-1){var f=parseInt(b.split(",",2)[1],10);e=new Date((new Date).getTime()+864e5*f),d=new Date(d.getTime()+864e5*(f>0?1:-1))}else if(b.indexOf("week")!=-1){var g=b.indexOf("prev,")!=-1?-1:1;if(1==g)var h="monday"==c.startOfWeek?1:0;else var h="monday"==c.startOfWeek?0:6;for(d=new Date(d.getTime()-864e5);d.getDay()!=h;)d=new Date(d.getTime()+864e5*g);e=new Date(d.getTime()+864e5*g*6)}else if(b.indexOf("month")!=-1){var g=b.indexOf("prev,")!=-1?-1:1;e=1==g?M(d):N(d),e.setDate(1),d=M(e),d.setDate(1),d=new Date(d.getTime()-864e5)}else if(b.indexOf("year")!=-1){var g=b.indexOf("prev,")!=-1?-1:1;e=new Date,e.setFullYear(d.getFullYear()+g),e.setMonth(0),e.setDate(1),d.setFullYear(d.getFullYear()+g),d.setMonth(11),d.setDate(31)}else if("custom"==b){var i=a(this).html();if(c.customShortcuts&&c.customShortcuts.length>0)for(var j=0;j<c.customShortcuts.length;j++){var k=c.customShortcuts[j];if(k.name==i){var l=[];l=k.dates.call(),l&&2==l.length&&(e=l[0],d=l[1]),l&&1==l.length&&(movetodate=l[0],E(movetodate,"month1"),E(M(movetodate),"month2"),I());break}}}e&&d&&(B(e,d),y())}),aa.find(".time1 input[type=range]").bind("change mousemove",function(b){var c=b.target,d="hour"==c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0,e="minute"==c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0;n("time1",d,e)}),aa.find(".time2 input[type=range]").bind("change mousemove",function(b){var c=b.target,d="hour"==c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0,e="minute"==c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0;n("time2",d,e)})}function f(){if(!c.inline){var b=a(ea).offset();if("relative"==a(c.container).css("position")){var d=a(c.container).offset();aa.css({top:b.top-d.top+a(ea).outerHeight()+4,left:b.left-d.left})}else b.left<460?aa.css({top:b.top+a(ea).outerHeight()+parseInt(a("body").css("border-top")||0,10),left:b.left}):aa.css({top:b.top+a(ea).outerHeight()+parseInt(a("body").css("border-top")||0,10),left:b.left+a(ea).width()-aa.width()-16})}}function g(){return aa}function h(b){f(),i(),aa.slideDown(b,function(){a(ea).trigger("datepicker-opened",{relatedTarget:aa})}),a(ea).trigger("datepicker-open",{relatedTarget:aa}),I(),j()}function i(){var a=c.getValue.call(fa),d=a?a.split(c.separator):"";if(d&&(1==d.length&&c.singleDate||d.length>=2)){var e=c.format;e.match(/Do/)&&(e=e.replace(/Do/,"D"),d[0]=d[0].replace(/(\d+)(th|nd|st)/,"$1"),d.length>=2&&(d[1]=d[1].replace(/(\d+)(th|nd|st)/,"$1"))),da=!1,d.length>=2?B(b(d[0],e,b.locale(c.language)).toDate(),b(d[1],e,b.locale(c.language)).toDate()):1==d.length&&c.singleDate&&C(b(d[0],e,b.locale(c.language)).toDate()),da=!0}}function j(){var a=aa.find(".gap").css("margin-left");a&&(a=parseInt(a));var b=aa.find(".month1").width(),c=aa.find(".gap").width()+(a?2*a:0),d=aa.find(".month2").width();aa.find(".month-wrapper").width(b+c+d)}function k(a,c){aa.find("."+a+" input[type=range].hour-range").val(b(c).hours()),aa.find("."+a+" input[type=range].minute-range").val(b(c).minutes()),n(a,b(c).format("HH"),b(c).format("mm"))}function l(a,d){c[a]=parseInt(b(parseInt(d)).startOf("day").add(b(c[a+"Time"]).format("HH"),"h").add(b(c[a+"Time"]).format("mm"),"m").valueOf())}function m(){k("time1",c.start),k("time2",c.end)}function n(a,d,e){function f(a,b){var f=b.format("HH"),g=b.format("mm");c[a]=b.startOf("day").add(d||f,"h").add(e||g,"m").valueOf()}switch(d&&aa.find("."+a+" .hour-val").text(d),e&&aa.find("."+a+" .minute-val").text(e),a){case"time1":c.start&&f("start",b(c.start)),f("startTime",b(c.startTime||b().valueOf()));break;case"time2":c.end&&f("end",b(c.end)),f("endTime",b(c.endTime||b().valueOf()))}y(),z(),D()}function o(){c.start=!1,c.end=!1,aa.find(".day.checked").removeClass("checked"),aa.find(".day.last-date-selected").removeClass("last-date-selected"),aa.find(".day.first-date-selected").removeClass("first-date-selected"),c.setValue.call(fa,""),y(),z(),D()}function p(a){var d=a;return"week-range"===c.batchMode?d="monday"===c.startOfWeek?b(parseInt(a)).startOf("isoweek").valueOf():b(parseInt(a)).startOf("week").valueOf():"month-range"===c.batchMode&&(d=b(parseInt(a)).startOf("month").valueOf()),d}function q(a){var d=a;return"week-range"===c.batchMode?d="monday"===c.startOfWeek?b(parseInt(a)).endOf("isoweek").valueOf():b(parseInt(a)).endOf("week").valueOf():"month-range"===c.batchMode&&(d=b(parseInt(a)).endOf("month").valueOf()),d}function r(d){if(!d.hasClass("invalid")){var e=d.attr("time");if(d.addClass("checked"),c.singleDate?(c.start=e,c.end=!1):"week"===c.batchMode?"monday"===c.startOfWeek?(c.start=b(parseInt(e)).startOf("isoweek").valueOf(),c.end=b(parseInt(e)).endOf("isoweek").valueOf()):(c.end=b(parseInt(e)).endOf("week").valueOf(),c.start=b(parseInt(e)).startOf("week").valueOf()):"workweek"===c.batchMode?(c.start=b(parseInt(e)).day(1).valueOf(),c.end=b(parseInt(e)).day(5).valueOf()):"weekend"===c.batchMode?(c.start=b(parseInt(e)).day(6).valueOf(),c.end=b(parseInt(e)).day(7).valueOf()):"month"===c.batchMode?(c.start=b(parseInt(e)).startOf("month").valueOf(),c.end=b(parseInt(e)).endOf("month").valueOf()):c.start&&c.end||!c.start&&!c.end?(c.start=p(e),c.end=!1):c.start&&(c.end=q(e),c.time.enabled&&l("end",c.end)),c.time.enabled&&(c.start&&l("start",c.start),c.end&&l("end",c.end)),!c.singleDate&&c.start&&c.end&&c.start>c.end){var f=c.end;c.end=q(c.start),c.start=p(f),c.time.enabled&&c.swapTime&&m()}c.start=parseInt(c.start),c.end=parseInt(c.end),w(),c.start&&!c.end&&(a(ea).trigger("datepicker-first-date-selected",{date1:new Date(c.start)}),v(d)),u(e),y(),z(),D(),x()}}function s(a){var d=parseInt(a.attr("data-start-time"),10);if(c.startWeek){aa.find(".week-number-selected").removeClass("week-number-selected");var e=new Date(d<c.startWeek?d:c.startWeek),f=new Date(d<c.startWeek?c.startWeek:d);c.startWeek=!1,c.start=b(e).day("monday"==c.startOfWeek?1:0).toDate(),c.end=b(f).day("monday"==c.startOfWeek?7:6).toDate()}else{c.startWeek=d,a.addClass("week-number-selected");var e=new Date(d);c.start=b(e).day("monday"==c.startOfWeek?1:0).toDate(),c.end=b(e).day("monday"==c.startOfWeek?7:6).toDate()}u(),y(),z(),D(),x()}function t(a){if(a=parseInt(a,10),c.startDate&&L(a,c.startDate)<0)return!1;if(c.endDate&&L(a,c.endDate)>0)return!1;if(c.start&&!c.end&&!c.singleDate){if(c.maxDays>0&&A(a,c.start)>c.maxDays)return!1;if(c.minDays>0&&A(a,c.start)<c.minDays)return!1;if(c.selectForward&&a<c.start)return!1;if(c.selectBackward&&a>c.start)return!1;if(c.beforeShowDay&&"function"==typeof c.beforeShowDay){for(var b=!0,d=a;A(d,c.start)>1;){var e=c.beforeShowDay(new Date(d));if(!e[0]){b=!1;break}d>c.start&&(d-=864e5),d<c.start&&(d+=864e5)}if(!b)return!1}}return!0}function u(){return aa.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid"),c.start&&!c.end&&aa.find(".day.toMonth.valid").each(function(){var b=parseInt(a(this).attr("time"),10);t(b)?a(this).addClass("valid tmp").removeClass("invalid"):a(this).addClass("invalid tmp").removeClass("valid")}),!0}function v(b){var d=parseInt(b.attr("time")),e="";if(b.hasClass("has-tooltip")&&b.attr("data-tooltip"))e='<span style="white-space:nowrap">'+b.attr("data-tooltip")+"</span>";else if(!b.hasClass("invalid"))if(c.singleDate)aa.find(".day.hovering").removeClass("hovering"),b.addClass("hovering");else if(aa.find(".day").each(function(){var b=parseInt(a(this).attr("time"));c.start,c.end;b==d?a(this).addClass("hovering"):a(this).removeClass("hovering"),c.start&&!c.end&&(c.start<b&&d>=b||c.start>b&&d<=b)?a(this).addClass("hovering"):a(this).removeClass("hovering")}),c.start&&!c.end){var f=A(d,c.start);c.hoveringTooltip&&("function"==typeof c.hoveringTooltip?e=c.hoveringTooltip(f,c.start,d):c.hoveringTooltip===!0&&f>1&&(e=f+" "+_("days")))}if(e){var g=b.offset(),h=aa.offset(),i=g.left-h.left,j=g.top-h.top;i+=b.width()/2;var k=aa.find(".date-range-length-tip"),l=k.css({visibility:"hidden",display:"none"}).html(e).width(),m=k.height();i-=l/2,j-=m,setTimeout(function(){k.css({left:i,top:j,display:"block",visibility:"visible"})},10)}else aa.find(".date-range-length-tip").hide()}function w(){aa.find(".day.hovering").removeClass("hovering"),aa.find(".date-range-length-tip").hide()}function x(){c.singleDate===!0?da&&c.start&&c.autoClose&&J():da&&c.start&&c.end&&c.autoClose&&J()}function y(){var a=Math.ceil((c.end-c.start)/864e5)+1;c.singleDate?c.start&&!c.end?aa.find(".drp_top-bar").removeClass("error").addClass("normal"):aa.find(".drp_top-bar").removeClass("error").removeClass("normal"):c.maxDays&&a>c.maxDays?(c.start=!1,c.end=!1,aa.find(".day").removeClass("checked"),aa.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(_("less-than").replace("%d",c.maxDays))):c.minDays&&a<c.minDays?(c.start=!1,c.end=!1,aa.find(".day").removeClass("checked"),aa.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(_("more-than").replace("%d",c.minDays))):c.start||c.end?aa.find(".drp_top-bar").removeClass("error").addClass("normal"):aa.find(".drp_top-bar").removeClass("error").removeClass("normal"),c.singleDate&&c.start&&!c.end||!c.singleDate&&c.start&&c.end?aa.find(".apply-btn").removeClass("disabled"):aa.find(".apply-btn").addClass("disabled"),c.batchMode&&(c.start&&c.startDate&&L(c.start,c.startDate)<0||c.end&&c.endDate&&L(c.end,c.endDate)>0)&&(c.start=!1,c.end=!1,aa.find(".day").removeClass("checked"))}function z(b,d){if(aa.find(".start-day").html("..."),aa.find(".end-day").html("..."),aa.find(".selected-days").hide(),c.start&&aa.find(".start-day").html(H(new Date(parseInt(c.start)))),c.end&&aa.find(".end-day").html(H(new Date(parseInt(c.end)))),c.start&&c.singleDate){aa.find(".apply-btn").removeClass("disabled");var e=H(new Date(c.start));c.setValue.call(fa,e,H(new Date(c.start)),H(new Date(c.end))),da&&a(ea).trigger("datepicker-change",{value:e,date1:new Date(c.start)})}else if(c.start&&c.end){aa.find(".selected-days").show().find(".selected-days-num").html(A(c.end,c.start)),aa.find(".apply-btn").removeClass("disabled");var e=H(new Date(c.start))+c.separator+H(new Date(c.end));c.setValue.call(fa,e,H(new Date(c.start)),H(new Date(c.end))),da&&!d&&a(ea).trigger("datepicker-change",{value:e,date1:new Date(c.start),date2:new Date(c.end)})}else b?aa.find(".apply-btn").removeClass("disabled"):aa.find(".apply-btn").addClass("disabled")}function A(a,b){return Math.abs(W(a)-W(b))+1}function B(a,b,d){if(a.getTime()>b.getTime()){var e=b;b=a,a=e,e=null}var f=!0;return c.startDate&&L(a,c.startDate)<0&&(f=!1),c.endDate&&L(b,c.endDate)>0&&(f=!1),f?(c.start=a.getTime(),c.end=b.getTime(),c.time.enabled&&(k("time1",a),k("time2",b)),(c.stickyMonths||L(a,b)>0&&0==K(a,b))&&(c.lookBehind?a=N(b):b=M(a)),c.stickyMonths&&K(b,c.endDate)>0&&(a=N(a),b=N(b)),c.stickyMonths||0==K(a,b)&&(c.lookBehind?a=N(b):b=M(a)),E(a,"month1"),E(b,"month2"),I(),y(),z(!1,d),void x()):(E(c.startDate,"month1"),E(M(c.startDate),"month2"),void I())}function C(a){var b=!0;return c.startDate&&L(a,c.startDate)<0&&(b=!1),c.endDate&&L(a,c.endDate)>0&&(b=!1),b?(c.start=a.getTime(),c.time.enabled&&k("time1",a),E(a,"month1"),I(),z(),void x()):void E(c.startDate,"month1")}function D(){(c.start||c.end)&&(aa.find(".day").each(function(){var d=parseInt(a(this).attr("time")),e=c.start,f=c.end;c.time.enabled&&(d=b(d).startOf("day").valueOf(),e=b(e||b().valueOf()).startOf("day").valueOf(),f=b(f||b().valueOf()).startOf("day").valueOf()),c.start&&c.end&&f>=d&&e<=d||c.start&&!c.end&&b(e).format("YYYY-MM-DD")==b(d).format("YYYY-MM-DD")?a(this).addClass("checked"):a(this).removeClass("checked"),c.start&&b(e).format("YYYY-MM-DD")==b(d).format("YYYY-MM-DD")?a(this).addClass("first-date-selected"):a(this).removeClass("first-date-selected"),c.end&&b(f).format("YYYY-MM-DD")==b(d).format("YYYY-MM-DD")?a(this).addClass("last-date-selected"):a(this).removeClass("last-date-selected")}),aa.find(".week-number").each(function(){a(this).attr("data-start-time")==c.startWeek&&a(this).addClass("week-number-selected")}))}function E(a,d){a=b(a).toDate();var e=G(a.getMonth());aa.find("."+d+" .month-name").html(e+" "+a.getFullYear()),aa.find("."+d+" tbody").html(Y(a)),c[d]=a,u()}function F(a,b){aa.find("."+b).append(O()),k(b,a)}function G(a){return _("month-name")[a]}function H(a){return b(a).format(c.format)}function I(){D();var a=parseInt(b(c.month1).format("YYYYMM")),d=parseInt(b(c.month2).format("YYYYMM")),e=Math.abs(a-d),f=e>1&&89!=e;f?aa.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible"):aa.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden");var g=aa.find("table.month1").height(),h=aa.find("table.month2").height();aa.find(".gap").height(Math.max(g,h)+10)}function J(){c.alwaysOpen||(a(aa).slideUp(c.duration,function(){a(ea).data("date-picker-opened",!1),a(ea).trigger("datepicker-closed",{relatedTarget:aa})}),a(ea).trigger("datepicker-close",{relatedTarget:aa}))}function K(a,c){var d=parseInt(b(a).format("YYYYMM"))-parseInt(b(c).format("YYYYMM"));return d>0?1:0==d?0:-1}function L(a,c){var d=parseInt(b(a).format("YYYYMMDD"))-parseInt(b(c).format("YYYYMMDD"));return d>0?1:0==d?0:-1}function M(a){return b(a).add(1,"months").toDate()}function N(a){return b(a).add(-1,"months").toDate()}function O(){return"<div>\t\t\t\t\t\t<span>"+_("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span>\t\t\t\t\t</div>\t\t\t\t\t<div class="hour">\t\t\t\t\t\t<label>'+_("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label>\t\t\t\t\t</div>\t\t\t\t\t<div class="minute">\t\t\t\t\t\t<label>'+_("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label>\t\t\t\t\t</div>'}function P(){var b='<div class="date-picker-wrapper';c.extraClass&&(b+=" "+c.extraClass+" "),c.singleDate&&(b+=" single-date "),c.showShortcuts||(b+=" no-shortcuts "),c.showTopbar||(b+=" no-topbar "),c.customTopBar&&(b+=" custom-topbar "),b+='">',c.showTopbar&&(b+='<div class="drp_top-bar">',c.customTopBar?("function"==typeof c.customTopBar&&(c.customTopBar=c.customTopBar()),b+='<div class="custom-top">'+c.customTopBar+"</div>"):(b+='<div class="normal-top">\t\t\t\t\t\t\t<span style="color:#333">'+_("selected")+' </span> <b class="start-day">...</b>',c.singleDate||(b+=' <span class="separator-day">'+c.separator+'</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> '+_("days")+")</i>"),b+="</div>",b+='<div class="error-top">error</div>\t\t\t\t\t\t<div class="default-top">default</div>'),b+='<input type="button" class="apply-btn disabled'+Q()+'" value="'+_("apply")+'" />',b+="</div>");var d=c.showWeekNumbers?6:5;if(b+='<div class="month-wrapper"><table class="month1" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;"><span class="prev">&lt;</span></th><th colspan="'+d+'" class="month-name"></th><th style="width:27px;">'+(c.singleDate||!c.stickyMonths?'<span class="next">&gt;</span>':"")+'</th></tr><tr class="week-name">'+R()+"</thead><tbody></tbody></table>",U()&&(b+='<div class="gap">'+T()+'</div><table class="month2" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;">'+(c.stickyMonths?"":'<span class="prev">&lt;</span>')+'</th><th colspan="'+d+'" class="month-name"></th><th style="width:27px;"><span class="next">&gt;</span></th></tr><tr class="week-name">'+R()+"</thead><tbody></tbody></table>"),b+='<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>',c.singleDate||(b+='<div class="time2"></div>'),b+='</div><div style="clear:both;height:0;font-size:0;"></div></div>',b+='<div class="footer">',c.showShortcuts){b+='<div class="shortcuts"><b>'+_("shortcuts")+"</b>";var e=c.shortcuts;if(e){if(e["prev-days"]&&e["prev-days"].length>0){b+='&nbsp;<span class="prev-days">'+_("past");for(var f=0;f<e["prev-days"].length;f++){var g=e["prev-days"][f];g+=_(e["prev-days"][f]>1?"days":"day"),b+=' <a href="javascript:;" shortcut="day,-'+e["prev-days"][f]+'">'+g+"</a>"}b+="</span>"}if(e["next-days"]&&e["next-days"].length>0){b+='&nbsp;<span class="next-days">'+_("following");for(var f=0;f<e["next-days"].length;f++){var g=e["next-days"][f];g+=_(e["next-days"][f]>1?"days":"day"),b+=' <a href="javascript:;" shortcut="day,'+e["next-days"][f]+'">'+g+"</a>"}b+="</span>"}if(e.prev&&e.prev.length>0){b+='&nbsp;<span class="prev-buttons">'+_("previous");for(var f=0;f<e.prev.length;f++){var g=_("prev-"+e.prev[f]);b+=' <a href="javascript:;" shortcut="prev,'+e.prev[f]+'">'+g+"</a>"}b+="</span>"}if(e.next&&e.next.length>0){b+='&nbsp;<span class="next-buttons">'+_("next");for(var f=0;f<e.next.length;f++){var g=_("next-"+e.next[f]);b+=' <a href="javascript:;" shortcut="next,'+e.next[f]+'">'+g+"</a>"}b+="</span>"}}if(c.customShortcuts)for(var f=0;f<c.customShortcuts.length;f++){var h=c.customShortcuts[f];b+='&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">'+h.name+"</a></span>"}b+="</div>"}if(c.showCustomValues&&(b+='<div class="customValues"><b>'+(c.customValueLabel||_("custom-values"))+"</b>",c.customValues))for(var f=0;f<c.customValues.length;f++){var i=c.customValues[f];b+='&nbsp;<span class="custom-value"><a href="javascript:;" custom="'+i.value+'">'+i.name+"</a></span>"}return b+="</div></div>",a(b)}function Q(){return klass="",c.autoClose===!0&&(klass+=" hide"),""!==c.applyBtnClass&&(klass+=" "+c.applyBtnClass),klass}function R(){var a=c.showWeekNumbers?"<th>"+_("week-number")+"</th>":"";return"monday"==c.startOfWeek?a+"<th>"+_("week-1")+"</th>\t\t\t\t\t<th>"+_("week-2")+"</th>\t\t\t\t\t<th>"+_("week-3")+"</th>\t\t\t\t\t<th>"+_("week-4")+"</th>\t\t\t\t\t<th>"+_("week-5")+"</th>\t\t\t\t\t<th>"+_("week-6")+"</th>\t\t\t\t\t<th>"+_("week-7")+"</th>":a+"<th>"+_("week-7")+"</th>\t\t\t\t\t<th>"+_("week-1")+"</th>\t\t\t\t\t<th>"+_("week-2")+"</th>\t\t\t\t\t<th>"+_("week-3")+"</th>\t\t\t\t\t<th>"+_("week-4")+"</th>\t\t\t\t\t<th>"+_("week-5")+"</th>\t\t\t\t\t<th>"+_("week-6")+"</th>"}function S(a){var a=b(a);return!(!c.startDate||!a.endOf("month").isBefore(c.startDate))||!(!c.endDate||!a.startOf("month").isAfter(c.endDate))}function T(){for(var a=['<div class="gap-top-mask"></div><div class="gap-bottom-mask"></div><div class="gap-lines">'],b=0;b<20;b++)a.push('<div class="gap-line">\t\t\t\t\t<div class="gap-1"></div>\t\t\t\t\t<div class="gap-2"></div>\t\t\t\t\t<div class="gap-3"></div>\t\t\t\t</div>');return a.push("</div>"),a.join("")}function U(){return!c.singleDate&&!c.singleMonth}function V(a,b,c){var d=jQuery.extend(!0,{},a);jQuery.each(b,function(a,b){var e=b(c);for(var f in e)d.hasOwnProperty(f)?d[f]+=e[f]:d[f]=e[f]}),attrString="";for(var e in d)d.hasOwnProperty(e)&&(attrString+=e+'="'+d[e]+'" ');return attrString}function W(a){return Math.floor(X(a)/864e5)}function X(a){return b.isMoment(a)&&(a=a.toDate().getTime()),"object"==typeof a&&a.getTime&&(a=a.getTime()),"string"!=typeof a||a.match(/\d{13}/)||(a=b(a,c.format).toDate().getTime()),a=parseInt(a,10)-60*(new Date).getTimezoneOffset()*1e3}function Y(a){var d=[];a.setDate(1);var e=(new Date(a.getTime()-864e5),new Date),f=a.getDay();if(0==f&&"monday"==c.startOfWeek&&(f=7),f>0)for(var g=f;g>0;g--){var h=new Date(a.getTime()-864e5*g),i=t(h.getTime());c.startDate&&L(h,c.startDate)<0&&(i=!1),c.endDate&&L(h,c.endDate)>0&&(i=!1),d.push({date:h,type:"lastMonth",day:h.getDate(),time:h.getTime(),valid:i})}for(var j=a.getMonth(),g=0;g<40;g++){var k=b(a).add(g,"days").toDate(),i=t(k.getTime());c.startDate&&L(k,c.startDate)<0&&(i=!1),c.endDate&&L(k,c.endDate)>0&&(i=!1),d.push({date:k,type:k.getMonth()==j?"toMonth":"nextMonth",day:k.getDate(),time:k.getTime(),valid:i})}for(var l=[],m=0;m<6&&"nextMonth"!=d[7*m].type;m++){l.push("<tr>");for(var h=0;h<7;h++){var n="monday"==c.startOfWeek?h+1:h,k=d[7*m+n],o=b(k.time).format("L")==b(e).format("L");if(k.extraClass="",k.tooltip="",k.valid&&c.beforeShowDay&&"function"==typeof c.beforeShowDay){var p=c.beforeShowDay(b(k.time).toDate());k.valid=p[0],k.extraClass=p[1]||"",k.tooltip=p[2]||"",""!=k.tooltip&&(k.extraClass+=" has-tooltip ")}todayDivAttr={time:k.time,"data-tooltip":k.tooltip,class:"day "+k.type+" "+k.extraClass+" "+(k.valid?"valid":"invalid")+" "+(o?"real-today":"")},0==h&&c.showWeekNumbers&&l.push('<td><div class="week-number" data-start-time="'+k.time+'">'+c.getWeekNumber(k.date)+"</div></td>"),l.push("<td "+V({},c.dayTdAttrs,k)+"><div "+V(todayDivAttr,c.dayDivAttrs,k)+">"+Z(k.time,k.day)+"</div></td>")}l.push("</tr>")}return l.join("")}function Z(a,b){return c.showDateFilter&&"function"==typeof c.showDateFilter?c.showDateFilter(a,b):b}function $(){if("auto"==c.language){var b=navigator.language?navigator.language:navigator.browserLanguage;if(!b)return a.dateRangePickerLanguages.default;var b=b.toLowerCase();for(var d in a.dateRangePickerLanguages)if(b.indexOf(d)!=-1)return a.dateRangePickerLanguages[d];return a.dateRangePickerLanguages.default}return c.language&&c.language in a.dateRangePickerLanguages?a.dateRangePickerLanguages[c.language]:a.dateRangePickerLanguages.default}function _(b){var c=b.toLowerCase(),d=b in ca?ca[b]:c in ca?ca[c]:null,e=a.dateRangePickerLanguages.default;return null==d&&(d=b in e?e[b]:c in e?e[c]:""),d}c||(c={}),c=a.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" to ",language:"auto",startOfWeek:"sunday",getValue:function(){return a(this).val()},setValue:function(b){a(this).attr("readonly")||a(this).is(":disabled")||b==a(this).val()||a(this).val(b)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,showShortcuts:!1,shortcuts:{},customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(a,b,c){return a>1?a+" "+_("days"):""},showTopbar:!0,swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(a){return b(a).format("w")}},c),c.start=!1,c.end=!1,c.startWeek=!1,c.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints,c.isTouchDevice&&(c.hoveringTooltip=!1),"auto"==c.singleMonth&&(c.singleMonth=a(window).width()<480),c.singleMonth&&(c.stickyMonths=!1),c.singleDate&&(c.singleMonth=!0),c.showTopbar||(c.autoClose=!0),c.startDate&&"string"==typeof c.startDate&&(c.startDate=b(c.startDate,c.format).toDate()),c.endDate&&"string"==typeof c.endDate&&(c.endDate=b(c.endDate,c.format).toDate());var aa,ba,ca=$(),da=!1,ea=this,fa=a(ea).get(0);return a(this).unbind(".datepicker").bind("click.datepicker",function(a){var b=aa.is(":visible");b||h(c.duration)}).bind("change.datepicker",function(a){i()}).bind("keyup.datepicker",function(){try{clearTimeout(ba)}catch(a){}ba=setTimeout(function(){i()},2e3)}),e.call(this),c.alwaysOpen&&h(0),a(this).data("dateRangePicker",{setDateRange:function(a,d,e){"string"==typeof a&&"string"==typeof d&&(a=b(a,c.format).toDate(),d=b(d,c.format).toDate()),B(a,d,e)},clear:o,close:J,open:h,getDatePicker:g,destroy:function(){a(ea).unbind(".datepicker"),a(ea).data("dateRangePicker",""),a(ea).data("date-picker-opened",null),aa.remove(),a(window).unbind("resize.datepicker",f),a(document).unbind("click.datepicker",J)}}),a(window).bind("resize.datepicker",f),this}}),function(){Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(d.prototype=this.prototype),e.prototype=new d,e})}(),function(){for(var a=0,b=["webkit","moz","o","ms"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16.7-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(a){a.isIe=function(){var a=navigator.userAgent,b=/MSIE\s*\d{1,2}\.\d+|rv:\d{1,2}\.\d+/;return!!a.match(b)},a.isSafari=function(){return/constructor/i.test(window.HTMLElement)},a.detectmob=function(){var a=navigator.userAgent;return!!(a.match(/Android/i)||a.match(/webOS/i)||a.match(/iPhone/i)||a.match(/iPad/i)||a.match(/iPod/i)||a.match(/BlackBerry/i)||a.match(/Windows Phone/i))},a.isSogou=function(){var a=navigator.userAgent;return!!/metasr/gi.test(a)},a.isWindows=function(){return navigator.userAgent.toLowerCase().indexOf("windows")>-1}}(this),angular.module("kt.common",[]),function(){"use strict";angular.module("ngLocale",[],["$provide",function(a){var b={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};a.value("$locale",{DATETIME_FORMATS:{AMPMS:["上午","下午"],DAY:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ERANAMES:["公元前","公元"],ERAS:["公元前","公元"],FIRSTDAYOFWEEK:6,MONTH:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],SHORTDAY:["周日","周一","周二","周三","周四","周五","周六"],SHORTMONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],WEEKENDRANGE:[5,6],fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"y年M月d日 ah:mm:ss",mediumDate:"y年M月d日",mediumTime:"ah:mm:ss",short:"yy/M/d ah:mm",shortDate:"yy/M/d",shortTime:"ah:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"¥",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤ ",negSuf:"",posPre:"¤ ",posSuf:""}]},id:"zh-cn",pluralCat:function(a,c){return b.OTHER}})}])}(),function(){"use strict";angular.module("kt.common").factory("ktS",["$window",function(a){return function(b){return a.assetsMap&&a.assetsMap[b]?a.assetsMap[b]:b}}])}(),function(){"use strict";angular.module("kt.common").factory("ktFormValidator",function(){return{validateInput:function(a,b){var c,d=$(a,b);if(d){c=new RegExp(d.attr("pattern"),"g");var e=c.test(d.val());return{el:d,valid:e}}return!0},validateSelect:function(a,b){var c=$(a,b);if(c){var d=!!c.val();return{el:c,valid:d}}return!0}}})}(),function(){"use strict";angular.module("kt.common").provider("ktLazyResolve",["ktSProvider",function(a){var b=a.$get();this.$get=function(){return function(a,c){angular.forEach(a,function(c,d){a[d]=b(c)});var d={dependence:["$ocLazyLoad",function(b){"ngInject";return b.load(a)}]};return $.extend(d,c||{})}}}])}(),function(){"use strict";angular.module("kt.common").factory("ktValueFactory",["$filter",function(a){return function(b,c,d){var e,f=a("ktNumberLocate2");switch(c){case"percent":if(_.isNil(b)||""===b)return"-";e=(100*b).toFixed(2)+(d?"":"%");break;case"percent2":if(_.isNil(b)||""===b)return"-";e=b.toFixed(2)+(d?"":"%");break;case"rmb":e=d?f(b).replace(/万元|元/g,""):f(b);break;case"normal":e=b?b.toFixed(2):"-";break;default:e=b||"-"}return e}}])}(),function(){"use strict";var a=window.swal;a.setDefaults({html:!0,confirmButtonColor:"#62cb31",cancelButtonText:"取消",confirmButtonText:"确定"}),angular.module("kt.common").factory("ktSweetAlert",["$timeout",function(b){return{_self:a,swal:function(c,d,e){b(function(){"function"==typeof d?a(c,function(a){b(function(){d(a)})},e||10):a(c,d,e)},200)},success:function(c,d){b(function(){a(c,d,"success")},200)},error:function(c,d){b(function(){a(c,d,"error")},200)},warning:function(c,d){b(function(){a(c,d,"warning")},200)},info:function(c,d){b(function(){a(c,d,"info")},200)}}}])}(),function(){"use strict";angular.module("kt.common").factory("ktUri",function(){return{appendParams:function(a,b){return a=a||"",b?("object"===$.type(b)&&(b=$.param(b)),a+=a.indexOf("?")>-1||a.indexOf("&")>-1?"&"+b:"?"+b):a},decodeParams:function(a){var b=decodeURIComponent(a).split("&"),c={};return _.each(b,function(a){if(a){var b=a.split("=");c[b[0]]=b[1]||null}}),c}}}).factory("ktUrlGet",function(){
return function(a,b){var c=a+($.isEmptyObject(b)?"":"?"+$.param(b));return c}})}(),function(){"use strict";angular.module("kt.common").factory("ktImage",["$q",function(a){return{load:function(b){var c=a.defer();return b.onload=function(){c.resolve()},b.onerror=function(a){c.reject(a)},c.promise}}}])}(),function(){"use strict";var a=Math.pow(10,4);angular.module("kt.common").filter("ktNumberLocate",function(){return function(b,c){if(!angular.isNumber(parseFloat(b))||0===b||_.isNull(b))return b||"-";var d=[numeral(b).format("0,0"),"元"];return(b/a>=1||b/a<=-1)&&(d[0]=numeral(b/a).format("0,0"),d[1]="万元"),c&&(d[0]="<strong>"+d[0]+"</strong>"),d.join("")}}).filter("ktNumberLocate2",function(){return function(b,c){if(!angular.isNumber(b))return b||"-";var d=[];return 0===b?"0万元":((b/a>=1||b/a<=-1)&&(d[0]=numeral(b/a).format("0,0"),d[1]="万元"),c&&(d[0]="<strong>"+d[0]+"</strong>"),d.join(""))}}).filter("ktWordBreak",["$sce",function(a){return function(b,c){var d=c||5;if(!b)return b||"-";var e=b.toString().split(""),f="",g=-1;return _.each(e,function(a){g+=a.charCodeAt(0)>128?1:.5,g<d?f+=a:(g=0,f+="<br/>"+a)}),a.trustAs("html",f)}}]).filter("ktNull",function(){return function(a){return a||"-"}}).filter("ktAppend",function(){return function(a,b){return a?a+b:"-"}}).filter("ktEclipsis",function(){return function(a,b){return a?a.length>b?a.slice(0,b)+"...":a:"-"}}).filter("ktGetNameFromUrl",function(){return function(a){return a?a.slice(a.lastIndexOf("/")+1):"-"}}).filter("ktNumber",["$filter","$window",function(a,b){return function(c,d,e){if($.isNumeric(c)){var f=a("number");return"percent"===e?f(100*c,d)+"%":"percent2"===e?f(c,d)+"%":f(c,d)}if(String(c).indexOf("~")>-1){var g=_.map(c.split("~"),function(a){return b.parseFloat(a).toFixed(2)+"%"});return g.join("~")}return c||"-"}}]).filter("ktTrust",["$sce",function(a){return function(b,c){return a.trustAs(c||"html",b)}}]).filter("ktJoin",function(){return function(a,b){var c=angular.isArray(a)?a.join(b||","):a;return c=c||"-"}}).filter("ktFontFamilyIgnore",function(){return function(a){return a?a.replace(/font-family:\s*([^;"]*);?/g,function(){return""}):a}}).filter("ktFontSizeIgnore",function(){return function(a){return a?a.replace(/font-size:\s*([^;"]*);?/g,function(){return""}):a}}).filter("ktParagraphStyleIgnore",function(){return function(a){return a?a.replace(/margin((?:-[^:]\w+)*):\s*([^;"]*);?|line-height:\s*([^;"]*);?/g,function(){return""}):a}})}(),function(){"use strict";function a(a,b){return{link:function(c,d,e){var f=e.instName,g=function(a,c){var e=f||"开通金融";c.data&&c.data.pageTitle&&(e=e+"-"+c.data.pageTitle),b(function(){d.text(e)})};a.$on("$stateChangeStart",g)}}}function b(){return{restrict:"A",link:function(a,b){b.metisMenu()}}}function c(){return{restrict:"EA",template:'<div class="header-link hide-menu" ng-click="minimalize()"><i class="fa fa-bars"></i></div>',controller:["$scope",function(a){a.minimalize=function(){$(window).width()<769?$("body").toggleClass("show-sidebar"):$("body").toggleClass("hide-sidebar")}}]}}function d(){return{restrict:"A",scope:{sparkData:"=",sparkOptions:"="},link:function(a,b){a.$watch(a.sparkData,function(){c()}),a.$watch(a.sparkOptions,function(){c()});var c=function(){$(b).sparkline(a.sparkData,a.sparkOptions)}}}}function e(){return{restrict:"A",scope:!0,controller:["$scope","$element",function(a,b){a.small=function(){var a=b.find("i:first"),c=b.find("#hbreadcrumb");b.toggleClass("small-header"),c.toggleClass("m-t-sm"),a.toggleClass("fa-arrow-up").toggleClass("fa-arrow-down")}}]}}function f(a,b,c){return{restrict:"A",link:function(d,e,f){function g(){if(s.length){var a=[];s.each(function(){a.push(c.load(this))}),b.all(a).then(function(){h()})}else h()}function h(){a(function(){r=e.find(f.child),l=Math.abs(k)+j,r.each(function(a,b){l+=k;var c=$(b).attr("delay")||l,d=$(b).attr("duration")||q,e=$(b).attr("effect")||t,f=$(b).attr("out-effect")||u;c=Math.round(10*c)/10,$(b).addClass("animated-panel").removeClass(f).addClass(e),$(b).css("animation-duration",d+"s"),$(b).css("animation-delay",c+"s"),$(b).removeClass("opacity-0")})},100,!1)}function i(){r=e.find(f.child),r.each(function(a,b){var c=$(b).attr("duration")||q,d=$(b).attr("effect")||t,e=$(b).attr("out-effect")||u;$(b).addClass("animated-panel").removeClass(d).addClass(e),$(b).css("animation-duration",c+"s"),$(b).css("animation-delay","0s")})}var j=0,k=.1,l=j,m=f.emitBy||"",n=f.emitByEvent||"",o=f.slickElem||"",p=$(e).closest(".slick-item").index();f.delay&&(k=parseFloat(f.delay));var q=f.duration||.5;f.child?f.child="."+f.child:f.child=".row > div";var r=e.find(f.child),s=r.filter("img"),t=f.effect||"zoomIn",u=f.outEffect||"zoomOut";r.addClass("opacity-0"),"slick"===m&&o&&$(o).length?$(o).on("beforeChange",function(a,b,c,d){c===p&&i(),d===p&&g()}):n&&d.$on(n,function(a,b){"out"===b.type?i():b.lazyLoad?g():h()}),(m||n)&&0!==p||g()}}}function g(a,b){return{restrict:"A",replace:!1,template:'<div class="text-center kt-loading-status"><img src="images/loading-bars.0899f739.svg" width="{{width}}" height="{{height}}" /></div>',link:function(c,d,e){var f=e.ignores?e.ignores.split(","):[],g=_.map(f,function(a){var b=a.toLowerCase().match(/(.+?)(?:\[(.+)\])*$/i);return{url:b?b[1]:"",methods:b?b[2]?b[2].split("|"):["get","put","post","delete"]:[]}});c.height=e.height,c.width=e.width,c.isLoading=function(){var c=_.filter(a.pendingRequests,function(a){return!_.some(g,function(c){return b.appendParams(a.url,a.params)===c.url&&_.includes(c.methods,a.method.toLowerCase())})});return c.length>0},c.$watch(c.isLoading,function(a){a?d.show():d.hide()})}}}function h(){return{require:"ngModel",scope:{otherModelValue:"=ktCompareTo"},link:function(a,b,c,d){d.$validators.ktCompareTo=function(b){return b===a.otherModelValue},a.$watch("otherModelValue",function(){d.$validate()})}}}function i(){return{require:"ngModel",link:function(a,b,c,d){$(c.greaterThanInput);d.$validators.ktGreaterThan=function(b){return b>=a.otherModelValue},a.$watch("otherModelValue",function(){d.$validate()})}}}function j(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){a.$watch(c.ktMin,function(){d.$setViewValue(d.$viewValue)});var e=function(b){var e=a.$eval(c.ktMin)||0;return!_.isEmpty(b)&&b<e?void d.$setValidity("ktMin",!1):(d.$setValidity("ktMin",!0),b)};d.$parsers.push(e),d.$formatters.push(e)}}}function k(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){a.$watch(c.ktMax,function(){d.$setViewValue(d.$viewValue)});var e=function(b){var e=a.$eval(c.ktMax)||1/0;return!_.isEmpty(b)&&b>e?void d.$setValidity("ktMax",!1):(d.$setValidity("ktMax",!0),b)};d.$parsers.push(e),d.$formatters.push(e)}}}function l(a){return{restrict:"A",scope:{ngSrc:"@"},link:function(b,c,d){var e=d.effect||"zoomIn",f=d.delay||.1,g=d.duration||.5;c.css({"animation-delay":f+"s","animation-duration":g+"s"}),c.on("load",function(){a(function(){c.addClass(e)})}),b.$watch("ngSrc",function(){a(function(){c.removeClass(e)})})}}}function m(){var a=function(a,b,c,d){b.unbind("blur"),b.bind("keydown input change blur",function(){a.$apply(function(){d.$setViewValue(b.val())})})};return{restrict:"A",require:"ngModel",link:function(b,c,d,e){var f=["text","email","password"];f.indexOf(d.type)!==-1&&(c.unbind("input").unbind("keydown").unbind("change"),c.bind("blur",function(){b.$apply(function(){e.$setViewValue(c.val())}),e.$invalid&&a(b,c,d,e)}))}}}function n(){return{restrict:"A",link:function(a,b){b.on("accessible."+b.attr("id"),function(a,c){var d=function(){return c.field?$('input[name="'+c.field+'"]'):b[0].querySelector(".ng-invalid")}();d&&d.focus()})}}}function o(a){return{restrict:"A",scope:{spinOptions:"="},link:function(b,c){c.TouchSpin(b.spinOptions),c.on("touchspin.on.startupspin",function(){c.trigger("blur")}),b.$watch("spinOptions",function(){a(function(){d()},10)},!0);var d=function(){c.trigger("touchspin.updatesettings",b.spinOptions)}}}}function p(){return{restrict:"A",link:function(a,b){b.addClass("disabled"),b.on("click",function(a){return a.preventDefault(),a.stopPropagation(),!1})}}}function q(a){return{restrict:"A",link:function(b,c){var d=c.find(".sort-column"),e=a.search();d.each(function(){var a=$(this).attr("field");e.sort_by===a&&$(this).addClass("sort-"+(e.order?e.order:"none"))}),c.on("click",".sort-column",function(){var c=$(this),d=["asc","desc","init"],f=function(){var a=c.attr("field");return e.order&&e.sort_by===a?_.indexOf(d,e.order):-1}(),g=d[(f+1)%d.length];c.removeClass("sort-desc sort-asc sort-init").addClass("sort-"+g),c.siblings(".sort-column").removeClass("sort-desc sort-asc sort-init"),b.$apply(function(){a.search($.extend(e,{page:1,sort_by:"init"!==g?c.attr("field"):null,order:"init"!==g?g:null}))})})}}}function r(a){return{require:"ngModel",link:function(b,c,d,e){a(function(){var a=c.val();a&&(c.trigger("input").trigger("change").trigger("keydown"),e.$modelValue=e.$modelValue||a)},1e3)}}}function s(){return{restrict:"A",priority:-10,scope:{ktSubmit:"&"},link:function(a,b,c){function d(){var d=a.$parent[c.name],e=b.find("input, textarea, select");e.on("change",function(){var b=$(this).attr("name");d[b].$setValidity("backendError",!0),a.$apply()}),a.$parent.$watch(c.name,function(a){var c=_.keys(a.backendErrors),d=$("#header").height();if(c&&c.length){var e=_.chain(c).map(function(a,d){var e=b.find("[name="+c[d]+"]");return{el:e,trIndex:e.closest("tr").index()}}).minBy("trIndex").value(),f=e.el.offset();f&&f.top<$(window).scrollTop()+d&&$(window).scrollTop(f.top-d),e.el.focus()}},!0),b.on("submit",function(c){if(e.trigger("input").trigger("change").trigger("keydown"),d.$setDirty(),d.$invalid){var f=d.$error[_.keys(d.$error)[0]];d[f[0].$name].$setDirty();var g=$('[name="'+f[0].$name+'"]',b);return g.focus(),c.preventDefault(),!1}return a.ktSubmit(),c.preventDefault(),!1})}c.startByEvent?a.$on(c.startByEvent,function(){d()}):d()}}}function t(){return{restrict:"A",scope:{settings:"=pageSettings"},link:function(a,b,c){var d=$.extend(!0,{},a.settings,c);$.fn.fullpage.destroy&&$.fn.fullpage.destroy("all"),b.fullpage(d)}}}function u(a){return{restrict:"A",link:function(b,c){c.height(a.innerHeight),$(a).on("resize",function(){c.height(a.innerHeight)})}}}function v(){return{restrict:"A",link:function(){$.fn.fullpage&&$.fn.fullpage.destroy&&$.fn.fullpage.destroy("all")}}}function w(){return{restrict:"A",link:function(a,b){var c,d;b.on("mousemove",function(a){var e=a.offsetX,f=a.offsetY;if(!c&&!d)return c=e,void(d=f);var g=e-c,h=b.css("background-position");b.css("background-position",h.replace(/(\d+)%\s(\d+)%/g,function(a,b,c){var d=+b+(g/10|0);return d=d>100?100:d<0?0:d,d+"% "+c+"%"})),c=e,d=f})}}}function x(a){return{restrict:"A",scope:{watchObj:"=onChange"},link:function(b,c,d){function e(){if("on"!==c.data("animating")){c.data("animating","on");var b="blink"+(d.blinkColor||"Orange");c.addClass(b),a(function(){c.data("animating","off"),c.removeClass(b)},1500)}}var f=d.watchValues?d.watchValues.split(","):[];b.$watchCollection("watchObj",function(a,b){var c=_.some(f,function(c){return a[c]!==b[c]});c&&e()})}}}function y(){return{restrict:"A",link:function(a,b){$(window).on("scroll",function(){b.toggleClass("fixed-head",$(window).scrollTop()>200)})}}}function z(){return{restrict:"A",link:function(a,b,c){b.on("click",function(){$(this).find(c.targetElement).trigger("click")})}}}function A(){return{restrict:"A",scope:{focusOn:"=focusOn"},link:function(a,b){a.$watch("focusOn.focus",function(a){a&&b.focus()})}}}function B(){return{restrict:"A",scope:{onClose:"&onClose"},link:function(a,b){$(document).on("click",function(c){var d=c.target;$.contains(b[0],d)||b[0]===d||a.onClose()})}}}a.$inject=["$rootScope","$timeout"],f.$inject=["$timeout","$q","ktImage"],g.$inject=["$http","ktUri"],l.$inject=["$timeout"],o.$inject=["$timeout"],q.$inject=["$location"],r.$inject=["$timeout"],u.$inject=["$window"],x.$inject=["$timeout"],angular.module("kt.common").directive("ktPageTitle",a).directive("ktSideNavigation",b).directive("ktMinimalizaMenu",c).directive("ktSparkline",d).directive("ktSmallHeader",e).directive("ktAnimatePanel",f).directive("ktLoadingStatus",g).directive("ktCompareTo",h).directive("ktGreaterThan",i).directive("ktMin",j).directive("ktMax",k).directive("ktImagePreload",l).directive("ktValidateOnBlur",m).directive("ktAccessibleForm",n).directive("ktTouchSpin",o).directive("ktReadonly",p).directive("ktTableSort",q).directive("ktAutoFillFix",r).directive("ktAutofillSubmit",s).directive("ktFullPage",t).directive("ktFullScreen",u).directive("ktFullPageDestroy",v).directive("ktMousemoveBg",w).directive("ktBlink",x).directive("ktScrollHeader",y).directive("ktTableLineSelect",z).directive("ktAutoFocus",A).directive("ktBlankClickHide",B)}(),function(){"use strict";angular.module("kt.common").factory("ktEchartTheme1",["ktHomeResource",function(a){var b=a.get().chartColors||["#A3A3A3","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"];return{color:b,title:{left:"left",top:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}},legend:{align:"auto",orient:"horizontal",left:"center",top:"bottom",bottom:20,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:10,itemHeight:10,textStyle:{fontSize:12,color:"#626472"}},dataRange:{orient:"vertical",left:"left",top:"bottom",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,splitNumber:5,color:["#1e90ff","#f0ffff"],textStyle:{color:"#333"}},toolbox:{orient:"horizontal",left:"right",top:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,featureImageIcon:{},iconStyle:{emphasis:{borderColor:"#3d4351"}},featureTitle:{mark:"辅助线开关",markUndo:"删除辅助线",markClear:"清空辅助线",dataZoom:"区域缩放",dataZoomReset:"区域缩放后退",dataView:"数据视图",lineChart:"折线图切换",barChart:"柱形图切换",restore:"还原",saveAsImage:"保存为图片"}},tooltip:{trigger:"item",showDelay:20,hideDelay:100,transitionDuration:.3,backgroundColor:"rgba(0,0,0,.7)",borderColor:"#6c76f4",borderRadius:3,borderWidth:0,padding:10,axisPointer:{type:"line",lineStyle:{color:"#e4e6e8",width:1,type:"solid"},shadowStyle:{width:"auto",color:"rgba(150,150,150,0.1)"}},textStyle:{fontSize:12,color:"#6c76f4"}},dataZoom:{orient:"horizontal",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)"},grid:{show:!0,top:50,left:70,right:30,bottom:80,borderWidth:0,backgroundColor:"#fafafa"},categoryAxis:{position:"bottom",nameTextStyle:{color:"#afb7d0"},nameLocation:"end",boundaryGap:!0,axisLine:{show:!1,lineStyle:{color:"#afb7d0",width:1,type:"solid"}},axisTick:{show:!1,interval:"auto",inside:!1,length:5,lineStyle:{color:"#afb7d0",width:1}},axisLabel:{show:!0,interval:"auto",rotate:0,margin:8,textStyle:{color:"#666b76"}},splitLine:{show:!1,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{position:"left",nameLocation:"end",nameTextStyle:{color:"#afb7d0"},boundaryGap:[0,0],splitNumber:5,axisLine:{show:!1,lineStyle:{color:"#d0d0d0",width:1,type:"solid"}},axisTick:{show:!1,inside:!1,length:5,lineStyle:{color:"#afb7d0",width:1}},axisLabel:{show:!0,rotate:0,margin:8,textStyle:{color:"#666b76"}},splitLine:{show:!1,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},logAxis:{position:"left",nameLocation:"end",nameTextStyle:{color:"#afb7d0"},boundaryGap:[0,0],splitNumber:5,axisLine:{show:!1,lineStyle:{color:"#d0d0d0",width:1,type:"solid"}},axisTick:{show:!1,inside:!1,length:5,lineStyle:{color:"#afb7d0",width:1}},axisLabel:{show:!0,rotate:0,margin:8,textStyle:{color:"#666b76"}},splitLine:{show:!1,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},polar:{center:["50%","50%"],radius:"75%",startAngle:90,splitNumber:5,name:{show:!0,textStyle:{color:"#333"}},axisLine:{show:!0,lineStyle:{color:"#ccc",width:1,type:"solid"}},axisLabel:{show:!1,textStyle:{color:"#333"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},splitLine:{show:!0,lineStyle:{width:1,color:"#ccc"}}},bar:{barMinHeight:0,barGap:"30%",barCategoryGap:"20%",itemStyle:{normal:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:!1}},emphasis:{shadowColor:"rgba(0, 0, 0, 1)",shadowOffsetX:1,shadowOffsetY:1,shadowBlur:0,barBorderColor:"rgba(0,0,0,1)",barBorderRadius:0,barBorderWidth:1,label:{show:!1}}}},line:{itemStyle:{normal:{borderWidth:1,label:{show:!1}},emphasis:{borderWidth:4,label:{show:!1}}},lineStyle:{normal:{width:1},emphasis:{width:2}},markLine:{lineStyle:{normal:{type:"solid"}}},smooth:!0,symbol:"emptyCircle",symbolSize:4,showAllSymbol:!0},k:{itemStyle:{normal:{color:"#fff",color0:"#00aa11",lineStyle:{width:1,color:"#ff3200",color0:"#00aa11"}},emphasis:{}}},scatter:{symbolSize:4,large:!1,largeThreshold:2e3,itemStyle:{normal:{label:{show:!1}},emphasis:{label:{show:!1}}}},radar:{itemStyle:{normal:{label:{show:!1},lineStyle:{width:2,type:"solid"}},emphasis:{label:{show:!1}}},symbolSize:2},pie:{center:["50%","50%"],radius:[0,"75%"],clockWise:!1,startAngle:90,minAngle:0,selectedOffset:10,itemStyle:{normal:{borderColor:"#fff",borderWidth:1,label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!1},labelLine:{show:!1,length:20,lineStyle:{width:1,type:"solid"}}}}},map:{mapType:"china",mapLocation:{left:"center",top:"center"},showLegendSymbol:!0,itemStyle:{normal:{borderColor:"#fff",borderWidth:1,areaStyle:{color:"#ccc"},label:{show:!1,textStyle:{color:"rgba(139,69,19,1)"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,areaStyle:{color:"rgba(255,215,0,0.8)"},label:{show:!1,textStyle:{color:"rgba(139,69,19,1)"}}}}},force:{minRadius:10,maxRadius:20,density:1,attractiveness:1,initSize:300,centripetal:1,coolDown:.99,itemStyle:{normal:{label:{show:!1},nodeStyle:{brushType:"both",color:"#f08c2e",strokeColor:"#5182ab"},linkStyle:{strokeColor:"#5182ab"}},emphasis:{label:{show:!1},nodeStyle:{},linkStyle:{}}}},chord:{radius:["65%","75%"],center:["50%","50%"],padding:2,sort:"none",sortSub:"none",startAngle:90,clockWise:!1,showScale:!1,showScaleText:!1,itemStyle:{normal:{label:{show:!0},lineStyle:{width:0,color:"#000"},chordStyle:{lineStyle:{width:1,color:"#666"}}},emphasis:{lineStyle:{width:0,color:"#000"},chordStyle:{lineStyle:{width:2,color:"#333"}}}}},island:{r:15,calculateStep:.1},markPoint:{symbol:"pin",symbolSize:10,itemStyle:{normal:{borderWidth:2,label:{show:!0,position:"inside"}},emphasis:{label:{show:!0}}}},markLine:{symbol:["circle","arrow"],symbolSize:[2,4],itemStyle:{normal:{borderWidth:2,label:{show:!1,position:"inside",textStyle:{color:"#333"}},lineStyle:{type:"solid",shadowColor:"rgba(0,0,0,0)",shadowBlur:5,shadowOffsetX:3,shadowOffsetY:3}},emphasis:{label:{show:!1},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"helvetica neue,  Helvetica, Arial, stheiti, wenquanyi micro hei",fontSize:12,fontStyle:"normal",fontWeight:"normal"},symbolList:["circle","rectangle","triangle","diamond","emptyCircle","emptyRectangle","emptyTriangle","emptyDiamond"],loadingText:"努力加载中...",calculable:!1,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",valueConnector:" : ",animation:!0,animationThreshold:2500,addDataAnimation:!0,animationDuration:1500,animationEasing:"ExponentialOut"}}])}(),$(document).ready(function(){"use strict";$("html").toggleClass("ie",isIe()).toggleClass("safari",isSafari()).toggleClass("mobile",detectmob()),$(window).on("mousewheel touchstart",function(a){return a.preventDefault(),!1}),$(window).bind("load",function(){setTimeout(function(){$(window).off("mousewheel touchstart"),$(".splash").css("display","none")},10)}),console&&console.log("%c安全警告！","color:red;font-size:50px;-webkit-text-stroke: 1px #333;"),console&&console.log("%c此浏览器功能专供开发者使用。请不要在此粘贴执行任何内容，这可能会导致您的账户受到攻击，给您带来损失！","color:#333;font-size:20px;")}),function(){angular.module("kt.lode",["ui.router","ui.bootstrap","ngResource","ngSanitize","ngMessages","ngAnimate","cgNotify","apiMock","angulartics","angulartics.baidu","angulartics.google.analytics","ipCookie","checklist-model","oc.lazyLoad","angular-cache","ngFileUpload","kt.common"])}(),function(){"use strict";angular.module("kt.lode").provider("ktLoanerRoutes",["ktLazyResolveProvider",function(a){var b=a.$get();this.$get={},this.routes={analytics:{url:"/analytics?apimock",abstract:!0,templateUrl:"views/common/analytics.html",data:{breadcrumb:!0,breadcrumbState:"analytics.home",pageTitle:"微贷平台",permit:["login"],specialClass:"fixed-sidebar analytics-page"},resolve:b(["views/common/analytics.js"],{user:["$q","$rootScope","ktUserService",function(a,b,c){"ngInject";var d=a.defer();return c.get(function(a){b.defaultRoute="analytics.projects.list.table",d.resolve(a.account)},function(){d.resolve(null)}),d.promise}]}),controller:"ktAnalyticsCtrl"},"analytics.home":{url:"/home",template:"",resolve:{waitUser:["$rootScope","$state","user",function(a,b,c){"ngInject";c?b.go(a.defaultRoute,b.params):b.go("account.login")}]}},"analytics.reports":{abstract:!0,url:"/reports",template:"<ui-view/>",data:{pageTitle:"数据报表"}},"analytics.reports.it":{url:"/dashboard",templateUrl:"views/analytics/dashboard.html",resolve:b(["views/analytics/dashboard.js"]),controller:"ktDashboardCtrl",data:{breadcrumbTitle:"总览",pageTitle:"数据报表-总览"}},"analytics.reports.assetFeature":{url:"/asset_feature",templateUrl:"views/analytics/asset_feature.html",resolve:b(["views/analytics/asset_feature.js","common/directives/kt-echart3-directive.js","common/directives/kt-linemenu-directive.js"]),controller:"ktAssetFeatureCtrl",data:{breadcrumbTitle:"资产特征",pageTitle:"数据报表-资产特征"}},"analytics.projects":{abstract:!0,url:"/projects",template:"<ui-view/>",data:{breadcrumb:!0,breadcrumbState:"analytics.projects.list.table",pageTitle:"项目列表"}},"analytics.projects.list":{abstract:!0,url:"",templateUrl:"views/analytics/projects/projects_layout.html",resolve:b(["views/analytics/projects/projects.js"]),controller:"ktProjectsCtrl",data:{breadcrumb:!1,pageTitle:"项目列表"}},"analytics.projects.list.table":{url:"?page&status&per_page&zhudai_id&account_id",templateUrl:"views/analytics/projects/projects.html",controller:"ktProjectsTableCtrl",data:{breadcrumb:!1,pageTitle:"项目列表"}},"analytics.projects.add":{url:"/add",templateUrl:"views/analytics/projects/detail/settings/project_form.html",resolve:b(["views/analytics/projects/detail/settings/project_add.js"]),controller:"ktProjectAddCtrl",data:{breadcrumb:!0,pageTitle:"添加项目"}},"analytics.institutions":{abstract:!0,url:"/institutions",template:"<ui-view/>",data:{breadcrumb:!0,permit:["login","admin"],breadcrumbState:"analytics.institutions.list.table",pageTitle:"机构列表"}},"analytics.institutions.list":{abstract:!0,url:"",templateUrl:"views/analytics/institutions/institutions_layout.html",resolve:b(["views/analytics/institutions/institutions.js"]),controller:"ktInstitutionsCtrl",data:{breadcrumb:!1,pageTitle:"机构列表"}},"analytics.institutions.list.table":{url:"?page&status&per_page",templateUrl:"views/analytics/institutions/institutions.html",controller:"ktInstitutionsTableCtrl",data:{breadcrumb:!1,pageTitle:"机构列表"}},"analytics.project":{url:"/projects/:projectID",abstract:!0,template:"<ui-view/>",controller:["$scope","$stateParams",function(a,b){"ngInject";a.$emit("activeProjectChange",{projectID:b.projectID})}],data:{breadcrumb:!0,breadcrumbState:"analytics.project.dashboard",pageTitle:"项目详情",specialClass:"fixed-sidebar analytics-page analytics-detail"}},"analytics.project.dashboard":{url:"/dashboard",templateUrl:"views/analytics/dashboard.html",resolve:b(["views/analytics/projects/dashboard.js"]),controller:"ktProjectDashboardCtrl",data:{pageTitle:"数据总览"}},"analytics.project.debtors":{abstract:!0,url:"/debtors",template:"<ui-view/>",data:{pageTitle:"借款人列表",breadcrumbState:"analytics.project.debtors.list.table"}},"analytics.project.debtors.list":{abstract:!0,url:"",templateUrl:"views/analytics/projects/detail/debtors/debtor_layout.html",resolve:b(["views/analytics/projects/detail/debtors/debtor.js","common/directives/datepicker/directive.js","common/directives/datepicker/theme/v2/style.css"]),controller:"ktDebtorCtrl",data:{breadcrumb:!1,pageTitle:"借款人列表"}},"analytics.project.debtors.list.table":{url:"?page&per_page&filter",templateUrl:"views/analytics/projects/detail/debtors/debtor.html",controller:"ktDebtorTableCtrl",data:{breadcrumb:!1,breadcrumbTitle:"借款人列表",pageTitle:"借款人列表"}},"analytics.project.debtors.detail":{url:"",abstract:!0,templateUrl:"views/analytics/projects/detail/debtors/detail_layout.html",controller:"ktDebtorDetailLayoutCtrl",resolve:b(["views/analytics/projects/detail/debtors/detail.js"]),data:{breadcrumb:!1,breadcrumbTitle:"借款人详情",pageTitle:"借款人详情"}},"analytics.project.debtors.detail.view":{url:"/:debtorID?tab",templateUrl:"views/analytics/projects/detail/debtors/detail.html",controller:"ktDebtorDetailCtrl",data:{breadcrumb:!0,breadcrumbTitle:"借款人详情",pageTitle:"借款人详情"}},"analytics.project.asset":{url:"/asset?start_date&end_date",abstract:!0,template:"<ui-view/>",resolve:b(["common/directives/datepicker/directive.js","common/directives/datepicker/theme/v2/style.css"]),data:{breadcrumbState:"analytics.project.asset.feature",pageTitle:"资产表现"}},"analytics.project.asset.feature":{url:"/feature",templateUrl:"views/analytics/projects/detail/asset/feature.html",resolve:b(["views/analytics/projects/detail/asset/feature.js","common/directives/kt-echart3-directive.js","common/directives/kt-linemenu-directive.js"]),controller:"ktAssetFeatureCtrl",data:{breadcrumbTitle:"资产分析",pageTitle:"资产表现-资产分析"}},"analytics.project.asset.users":{url:"/users",templateUrl:"views/analytics/projects/detail/asset/users.html",resolve:b(["views/analytics/projects/detail/asset/users.js","common/directives/kt-echart3-directive.js","common/directives/kt-linemenu-directive.js"]),controller:"ktUserFeatureCtrl",data:{breadcrumbTitle:"人群特征",pageTitle:"资产表现-人群特征"}},"analytics.project.risk":{url:"/risk?start_date&end_date",abstract:!0,template:"<ui-view/>",resolve:b(["common/directives/datepicker/directive.js","common/directives/datepicker/theme/v2/style.css"]),data:{breadcrumbState:"analytics.project.risk.overdue",pageTitle:"风险分析"}},"analytics.project.risk.overdue":{url:"/overdue",templateUrl:"views/analytics/projects/detail/risk/overdue.html",resolve:b(["views/analytics/projects/detail/risk/overdue.js","common/directives/kt-echart3-directive.js"]),controller:"ktOverdueCtrl",data:{breadcrumbTitle:"趋势解析",pageTitle:"风险分析-趋势解析"}},"analytics.project.risk.vintage":{url:"/vintage?vintage_start_date&vintage_end_date&vintage_index",templateUrl:"views/analytics/projects/detail/risk/vintage.html",resolve:b(["views/analytics/projects/detail/risk/vintage.js","common/directives/kt-echart3-directive.js"]),controller:"ktVintageCtrl",data:{breadcrumbTitle:"Vintage",pageTitle:"风险分析-Vintage"}},"analytics.project.risk.assetRisk":{url:"/asset_risk?dimension&risk_index&start_date&end_date",templateUrl:"views/analytics/projects/detail/risk/asset_risk.html",resolve:b(["views/analytics/projects/detail/risk/asset_risk.js","common/directives/kt-echart3-directive.js"]),controller:"ktAssetRiskCtrl",data:{breadcrumbTitle:"资产风险分析",pageTitle:"风险分析-资产风险分析"}},"analytics.project.cash":{url:"/cash",templateUrl:"views/analytics/projects/detail/cash_forecast/cash_forecast.html",resolve:b(["views/analytics/projects/detail/cash_forecast/cash_forecast.js","common/directives/datepicker/directive.js","common/directives/datepicker/theme/v2/style.css","common/directives/kt-echart3-directive.js"]),controller:"ktCashCtrl",data:{pageTitle:"现金流预测"}},"analytics.project.settings":{url:"/settings",abstract:!0,template:"<ui-view/>",data:{breadcrumbState:"analytics.project.settings.info",pageTitle:"项目设置"}},"analytics.project.settings.info":{url:"/info",templateUrl:"views/analytics/projects/detail/settings/project_info.html",resolve:b(["views/analytics/projects/detail/settings/project_info.js"]),controller:"ktProjectInfoCtrl",data:{breadcrumbTitle:"基本信息",pageTitle:"项目设置-基本信息"}},"analytics.project.settings.edit":{url:"/edit",templateUrl:"views/analytics/projects/detail/settings/project_form.html",resolve:b(["views/analytics/projects/detail/settings/project_edit.js"]),controller:"ktProjectEditCtrl",data:{breadcrumbTitle:"编辑项目",pageTitle:"项目设置-编辑项目"}},"analytics.project.settings.add":{url:"/add",templateUrl:"views/analytics/projects/detail/settings/project_form.html",resolve:b(["views/analytics/projects/detail/settings/project_add.js"]),controller:"ktProjectAddCtrl",data:{breadcrumbTitle:"添加项目",pageTitle:"项目设置-添加项目"}}}}])}(),function(){"use strict";angular.module("kt.lode").provider("ktAccountRoutes",["ktLazyResolveProvider",function(a){var b=a.$get();this.$get={},this.routes={"analytics.account":{url:"/account",abstract:!0,templateUrl:"views/analytics/account/account.html",resolve:b(["views/analytics/account/account.js"]),controller:"ktAccountCtrl",data:{pageTitle:"我的账户"}},"analytics.account.accountset":{url:"/accountset",templateUrl:"views/analytics/account/accountset.html",controller:"ktAccountSetCtrl",data:{breadcrumb:!1,pageTitle:"账户设置"}},account:{abstract:!0,url:"/account?apimock&role&inst_type",templateUrl:"views/common/empty.html",data:{pageTitle:"Common",specialClass:"empty-page bg-light account-page"}},"account.login":{url:"/login",templateUrl:"views/login.html",resolve:b(["views/login.js"]),controller:"ktLoginCtrl",data:{pageTitle:"登录"}},"account.register":{url:"/register",templateUrl:"views/register.html",resolve:b(["views/register.js","common/directives/kt-captchaimg-directive.js","common/factories/kt-captcha.js"]),controller:"ktRegisterCtrl",data:{pageTitle:"入会"}},"account.confirm":{url:"/confirm",templateUrl:"views/confirm.html",resolve:b(["views/confirm.js"]),controller:"ktConfirmCtrl",params:{institution:{},user:{}},data:{pageTitle:"信息确认"}}}}])}(),function(){"use strict";angular.module("kt.lode").provider("ktErrorRoutes",["ktLazyResolveProvider",function(a){var b=a.$get();this.$get={},this.routes={error:{abstract:!0,url:"/error?apimock&inst_type&role",templateUrl:"views/common/empty.html",resolve:b(["views/error/errors.js"]),controller:"ktErrorsCtrl",data:{pageTitle:"错误",specialClass:"error-page"}},"error.404":{url:"/404",templateUrl:"views/error/404.html",data:{pageTitle:"页面未找到"}},"error.500":{url:"/500",templateUrl:"views/error/500.html",data:{pageTitle:"服务器故障"}}}}])}(),function(){"use strict";angular.module("kt.lode").provider("ktRouter",["$rootScopeProvider","$stateProvider","$urlRouterProvider","ktLoanerRoutesProvider","ktAccountRoutesProvider","ktErrorRoutesProvider",function(a,b,c,d,e,f){var g=function(a){_.each(a,function(a,c){b.state(c,a)})},h=function(a){var b=function(b,c){var d=b.get("ktUrlGet"),e=c.search();return d(a,e)};return b.$inject=["$injector","$location"],b};this.run=function(){c.when("",h("/analytics/home")),c.when("/",h("/analytics/home")),c.otherwise(h("/error/404")),g(d.routes),g(e.routes),g(f.routes)},this.$get={}}])}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){b.debugInfoEnabled(!1),d.interceptors.push("ktTokenInterceptor"),d.interceptors.push("ktResInterceptor"),d.defaults.cache=!1,c.html5Mode({enabled:!0,requireBase:!1}).hashPrefix("!"),a.config({debug:!1}),e.defaults.actions={create:{method:"POST"},save:{method:"POST"},update:{method:"PUT"},get:{method:"GET"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}},g.config({mockDataPath:"/mock_data",apiPath:"/ajax"}),h.run()}a.$inject=["$ocLazyLoadProvider","$compileProvider","$locationProvider","$httpProvider","$resourceProvider","$analyticsProvider","apiMockProvider","ktRouterProvider"],
angular.module("kt.lode").config(a).run(["$rootScope","$state","$location","$timeout","$http","ktHomeResource","uibPaginationConfig","ktUserService","ktS","ktEchartTheme1",function(a,b,c,d,e,f,g,h,i,j){$.extend(g,{boundaryLinks:!0,directionLinks:!0,firstText:"首页",itemsPerPage:10,lastText:"尾页",nextText:"下一页",previousText:"上一页",rotate:!0}),echarts.registerTheme("theme1",j),a.apiCode=Math.random().toString(16).slice(2),a.ktS=i;var k=f.get();$.extend(a,k),a.$state=b,a.back=function(){window.history.back()},a.$on("$stateChangeStart",function(d,e,f){var g=c.search();g.apimock&&!f.apimock&&(f.apimock=g.apimock),e.name.indexOf("analytics")>-1&&(a.wantJumpUrl=b.href(e.name,f))}),a.$on("$stateChangeError",function(a,c,d){b.go("error.404",d)}),a.$on("$stateNotFound",function(a,c,d){b.go("error.404",d)}),a.$on("$stateChangeSuccess",function(b,c,d,e,f){c.name.indexOf("analytics")>-1&&(a.wantJumpUrl=""),a.previousState=e.name,a.previousStateParams=f,a.currentState=c.name}),a.$on("$includeContentLoaded",function(){setTimeout(function(){$("#footer-analytics").css("display","block")},100)})}])}(),function(){"use strict";angular.module("kt.lode").directive("ktLogout",["$window","$rootScope","$state","ipCookie","CacheFactory",function(a,b,c,d,e){return{restrict:"A",link:function(f,g){g.on("click",function(f){f.stopPropagation(),f.preventDefault(),delete a.localStorage.user,delete a.localStorage.token,b.user=null,b.currentUrl="",b.wantJumpUrl="",d.remove("token"),e.clearAll(),c.go("account.login",{},{reload:!0})})}}}])}(),function(){"use strict";var a={ovd_rate:"推迟还款1天到180天定义为逾期；T日的逾期率定义为:A [T日逾期借款的余额] 除以B [T日所有借款的余额","逾期率":"推迟还款1天到180天定义为逾期；T日的逾期率定义为:A [T日逾期借款的余额] 除以B [T日所有借款的余额",add_up_amnt:"项目开始以来所有借款的放款额总和",add_up_count:"项目开始以来所有借款的个数总和",np_rate:"推迟还款91天到180天定义为逾期；T日的不良率定义为:A [T日不良借款的余额] 除以B [T日所有借款的余额]","不良率":"推迟还款91天到180天定义为逾期；T日的不良率定义为:A [T日不良借款的余额] 除以B [T日所有借款的余额]"},b={accountLogo:"images/logo-zh.0b95047a.png",accountLink:"http://www.sinoguarantee.com/",chartColors:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],getToolTip:function(b){return a[b]||""}};angular.module("kt.lode").factory("ktHomeResource",function(){return{get:function(){return b}}})}(),function(){"use strict";angular.module("kt.lode").factory("ktLoginCommon",["$rootScope","$window","$state","$location","ktSweetAlert","ktUrlGet","CacheFactory",function(a,b,c,d,e,f,g){return function(c,h){h.pendingRequests=!0,c.save(h.user).$promise.then(function(c){if(h.pendingRequests=!1,c.token){g.clearAll(),b.localStorage.token=c.token;var e=a.wantJumpUrl||f("/",d.search());d.url(e)}}).catch(function(a){h.pendingRequests=!1;var b=a.error||"登录失败！";22===a.code&&"QuotaExceededError"===a.name&&(b="您的浏览器不支持localStorage,如果您使用的是iOS浏览器，可能是您使用“无痕浏览模式”导致的，请不要使用无痕浏览模式！"),e.swal({title:"登录失败",text:b,type:"error"})})}}])}(),function(){"use strict";angular.module("kt.lode").factory("ktApiCache",["$cacheFactory",function(a){return a("ktApiCache")}])}(),angular.module("kt.lode").constant("ktApiVersion","v1"),function(){"use strict";angular.module("kt.lode").factory("ktUserService",["$resource","CacheFactory","ktApiVersion",function(a,b,c){var d;return b.get("profileCache")||(d=b("profileCache",{maxAge:36e5,cacheFlushInterval:36e5,deleteOnExpire:"aggressive",storageMode:"localStorage"})),a("/ajax/"+c+"/users",{},{get:{method:"GET",cache:d}})}]).factory("ktLoginService",["$resource","ktApiVersion",function(a,b){return a("/ajax/"+b+"/sessions/:confirm",{confirm:"@confirm"},{post:{method:"POST"},save:{method:"POST"}})}])}(),function(){"use strict";angular.module("kt.lode").factory("ktCaptchaService",["$resource","ktApiVersion",function(a,b){return a("/ajax/"+b+"/users/captcha")}])}(),function(){"use strict";angular.module("kt.lode").factory("ktProjectsService",["$resource","ktApiVersion",function(a,b){return a("/ajax/"+b+"/projects/:projectID/:subContent/:subID",{projectID:"@projectID",subID:"@subID",subContent:"@subContent"},{get:{method:"GET",cache:!1}})}]).factory("ktInstitutionsService",["$resource","ktApiVersion",function(a,b){return a("/ajax/"+b+"/:projectType/:projectID/institutions/:instID",{projectType:"@projectType",projectID:"@projectID",instID:"@instID"},{get:{method:"GET",cache:!1}})}]).factory("ktStaticsReportService",["$resource","ktApiVersion",function(a,b){return a("/ajax/"+b+"/statistics/:type",{type:"@type"},{get:{method:"GET",cache:!1}})}]).factory("ktProjectStaticsReportService",["$resource","ktApiVersion",function(a,b){return a("/ajax/"+b+"/statistics/projects/:projectID/:dimention/:type",{projectID:"@projectID",dimention:"@dimention",type:"@type"},{get:{method:"GET",cache:!1}})}])}(),function(){"use strict";angular.module("kt.lode").filter("i18",["ktFameLocaleTexts",function(a){return function(b,c,d){return c?d?(a[c][d]?a[c][d][b]:b)||b:(a[c]?a[c][b]:b)||b:a[b]||b}}])}(),function(){"use strict";angular.module("kt.lode").factory("ktDateHelper",function(){return{getDateDay:function(a){var b,c,d;switch(a){case"all":b="",c=moment().subtract(1,"d").format("YYYY-MM-DD");break;case"lastWeek":b=moment().subtract(1,"w").format("YYYY-MM-DD"),c=moment().format("YYYY-MM-DD");break;case"lastMonth":b=moment().subtract(1,"M").format("YYYY-MM-DD"),c=moment().format("YYYY-MM-DD");break;case"nextWeek":b=moment().format("YYYY-MM-DD"),c=moment().add(1,"w").format("YYYY-MM-DD");break;case"nextMonth":b=moment().format("YYYY-MM-DD"),c=moment().add(1,"M").format("YYYY-MM-DD");break;default:d=a.split("~"),b=moment(d[0]).format("YYYY-MM-DD"),c=moment(d[1]).format("YYYY-MM-DD")}return b+"~"+c},getDate:function(a){var b,c,d;switch(a){case"all":b="",c=moment().date(1).subtract(1,"days").format("YYYY-MM");break;case"lastMonth":d=moment().subtract(1,"month"),b=d.date(1).format("YYYY-MM"),c=moment().date(1).subtract(1,"days").format("YYYY-MM");break;case"last3Month":d=moment().subtract(3,"month"),b=d.date(1).format("YYYY-MM"),c=moment().date(1).subtract(1,"days").format("YYYY-MM");break;case"last6Month":d=moment().subtract(6,"month"),b=d.date(1).format("YYYY-MM"),c=moment().date(1).subtract(1,"days").format("YYYY-MM");break;default:d=a.split("~"),b=moment(d[0]).format("YYYY-MM"),c=moment(d[1]).format("YYYY-MM")}return b+"~"+c},initPeriod:function(a,b){var c=b.start_date,d=b.end_date;a.radioPeriodLastMonth=this.getDate("lastMonth"),a.radioPeriodLast3Month=this.getDate("last3Month"),a.radioPeriodLast6Month=this.getDate("last6Month"),c&&d?a.radioPeriod=c+"~"+d:a.radioPeriod=a.radioPeriodLast6Month,a.radioPeriodCustom=a.radioPeriod===a.radioPeriodLastMonth||a.radioPeriod===a.radioPeriodLast3Month||a.radioPeriod===a.radioPeriodLast6Month?"custom":a.radioPeriod},initPeriodDay:function(a,b){var c=b.start_date,d=b.end_date;a.radioPeriodAll=this.getDateDay("all"),a.radioPeriodLastWeek=this.getDateDay("lastWeek"),a.radioPeriodLastMonth=this.getDateDay("lastMonth"),a.radioPeriodNextWeek=this.getDateDay("nextWeek"),a.radioPeriodNextMonth=this.getDateDay("nextMonth"),c&&d?a.radioPeriod=c+"~"+d:c||d!==a.radioPeriodAll.split("~")[1]?a.radioPeriod=a.radioPeriodLastWeek:a.radioPeriod=a.radioPeriodAll},adapterInstitutionDashboard:function(a){function b(a){_.each(a||[],function(a){a.name.indexOf("已还")>-1&&(a.data=_.map(a.data,function(a){return-a}))})}return b(a.total_trends),b(a.increment_trends),a}}})}(),function(){"use strict";angular.module("kt.lode").factory("ktDataHelper",["$timeout","ktUri","ktFormValidator",function(a,b,c){return{filterInit:function(a,b){var c=this;return a.hasAdapt||c._dataAdaptor(a,b),function(b){c.filterUpdate(a,b)}},filterUpdate:function(a,b){_.each(a||[],function(a){var c="discretized_"+a.field,d="from_"+a.field,e="to_"+a.field;a.customOptionStart="",a.customOptionEnd="","options"===a.perform_type?b[c]?_.each(a.options,function(a){a.active=a.value==b[c]}):b[d]||b[e]?(_.each(a.options,function(a){a.active=!1}),a.customOptionStart=b[d]||"",a.customOptionEnd=b[e]||""):_.each(a.options,function(a,b){a.active=0===b}):"search"===a.perform_type&&(a.searchValue=b[a.field]||"")})},decodeParams:function(a,c){var d={};return _.each(a,function(a,e){_.includes(c||[],e)&&$.extend(d,b.decodeParams(a))}),d},pruneDirtyParams:function(a,b,c){_.each(a,function(d,e){if(b){var f=_.isArray(c)?c:[c];c?_.includes(f,e)&&!b[e]&&delete a[e]:b[e]||delete a[e]}})},cutDirtyParams:function(a,b,c){var d=$.extend(!0,{},a);return _.each(d,function(a,b){"all"===d[b]&&delete d[b]}),this.pruneDirtyParams(d,b,c),d},_dataAdaptor:function(b,d){d=d||[],b.sort(function(a,b){return a.perform_type>b.perform_type?1:a.perform_type<b.perform_type?-1:0}),_.each(b,function(b){b.pattern=function(){return"integer"===b.field_type?"^\\d+$":"float"===b.field_type?"^\\d+(\\.\\d+)?$":"date"===b.field_type?"^\\d{4}-\\d{2}-\\d{2}$":"^.+$"}(),_.includes(["integer","float"],b.field_type)&&"options"===b.perform_type?(b.customOptionVisible=!0,b.errors={start:"",end:""},b.validate=function(){var d=c.validateInput("#custom_start_"+b.field,".filter-box"),e=c.validateInput("#custom_end_"+b.field,".filter-box"),f=!1;switch(!0){case!d.valid:b.errors.start="integer"===b.field_type?"请填写正整数":"请填写正数",b.errors.start_open=!0;break;case!e.valid:b.errors.end="integer"===b.field_type?"请填写正整数":"请填写正数",b.errors.end_open=!0;break;default:f=!0,b.errors.start="",b.errors.start_open=!1,b.errors.end="",b.errors.end_open=!1}return a(function(){b.errors.start_open=!1,b.errors.end_open=!1},2e3),f}):"search"===b.perform_type&&(b.errors={search:""},b.validate=function(){var d=c.validateInput("#search_"+b.field,".filter-box"),e=!1;switch(!0){case!d.valid:b.errors.search="请正确填写",b.errors.search_open=!0;break;default:e=!0,b.errors.search="",b.errors.search_open=!1}return a(function(){b.errors.search_open=!1},2e3),e}),"options"===b.perform_type&&(b.options=_.map(b.options,function(a){return{name:a,value:a}}),b.options.unshift({name:"全部",active:!0,value:"all"}))}),b.getByField=function(a){return _.find(b,{field:a})},b.validateByField=function(a){var b=this.getByField(a);return b.validate()},b.hasAdapt=!0},seperateTwoColumns:function(a,b){_.each(a,function(c,d){if(c.length>b){var e=function(){return c.length>2*b?Math.ceil(c.length/2):b}();a[d+"_second"]=_.remove(a[d],function(a,b){return b>=e})}})},getStatByProject:function(){return{radioDataShowType:"all",fieldNames:[{name:"项目名称",tip:""},{name:"累计成交额",tip:"项目开始以来所有借款的放款额总和"},{name:"累计成交笔数",tip:"项目开始以来所有借款的个数总和"},{name:"累计借款人数",tip:""},{name:"逾期率",tip:"推迟还款1天到180天定义为逾期；T日的逾期率定义为:A [T日逾期借款的余额] 除以B [T日所有借款的余额"},{name:"不良率",tip:"推迟还款91天到180天定义为逾期；T日的不良率定义为:A [T日不良借款的余额] 除以B [T日所有借款的余额]"}]}}}}])}(),function(){"use strict";angular.module("kt.lode").factory("ktTokenInterceptor",["$q","$injector","$window",function(a,b,c){return{request:function(a){return a.headers=a.headers||{},c.localStorage.token&&(a.headers.Authorization=c.localStorage.token),a}}}]).factory("ktResInterceptor",["$q","$injector",function(a,b){return{request:function(a){var c=b.get("$location"),d=b.get("$rootScope"),e=b.get("ktS"),f=b.get("ktUri"),g=c.search();return g.apimock&&(a.method="GET",$.extend(a.params,a.data)),a.url.indexOf("/ajax/v")>-1?a.url=f.appendParams(a.url,{ac:d.apiCode}):a.url=e(a.url),a},response:function(a){var b=a.headers();return b["content-type"]&&b["content-type"].indexOf("application/json")>-1&&angular.isObject(a.data)&&!a.data.total_items&&(a.data.total_items=b["x-total"]||b["X-Total"]||0),a},responseError:function(c){var d=b.get("$state"),e=b.get("$rootScope"),f=b.get("$location"),g=b.get("$window"),h=b.get("ktSweetAlert"),i=b.get("ipCookie"),j=b.get("CacheFactory");if(419===c.status||401===c.status){var k=f.search(),l={};if(k.apimock&&(l.apimock=k.apimock),e.user=null,e.currentUrl="",delete g.localStorage.user,delete g.localStorage.token,i.remove("token"),j.clearAll(),c.config&&c.config.params&&c.config.params.notRequired)return a.reject(c.data);d.go("account.login",l)}else 403===c.status?h.swal({title:"请求失败！",text:"您的权限不足！",type:"error"}):500===c.status&&h.swal({title:"请求失败！",text:"服务器出错了，请稍后再试",type:"error"});return a.reject(c.data)}}}])}();